<%-include('../innerHeader')%>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
<%if(result){
	if(user){%>
<section class="id-code-box-sec">
	<div class="container">
		<div class="row">
			<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
				<div class="white-box full-box view-id-heading-box">
					<div class="id-code-represent-heading"> 
						<img src="../assets/images/icons/home-assets/Representative.png">
						<span>Representative</span>
					</div>
					<div>
				     <div class="row">
				     	<div class="col-xl-4 col-lg-6 col-md-6">
				     		<div class="row inner-box-id-code">
								<div class="col-md-6 p-0">
									<div class="for-flex-align">
										<img src="../assets/images/icons/home-assets/user.png">
										<p>MyReflet ID</p>
									</div>
								</div>
								<div class="col-md-6 dubble-dot-after p-0">
									<p><%=result.reflect_code%></p>
								</div>
							</div>
						 </div>
						 <div class="col-xl-4 col-lg-6 col-md-6">
							<div class="row inner-box-id-code">
							   <div class="col-md-6 p-0">
								   <div class="for-flex-align">
									   <img src="../assets/images/icons/home-assets/user.png">
									   <p>MyReflet Name</p>
								   </div>
							   </div>
							   <div class="col-md-6 dubble-dot-after p-0">
								   <p><%=result.wallet_name%></p>
							   </div>
						   </div>
						</div>
				     	<div class="col-xl-4 col-lg-6 col-md-6">
				     		<div class="row inner-box-id-code">
								<div class="col-md-6 p-0">
									<div class="for-flex-align">
										<img src="../assets/images/icons/home-assets/user.png">
										<p>Name</p>
									</div>
								</div>
								<div class="col-md-6 dubble-dot-after p-0">
									<p><%=result.rep_firstname%> <%=result.rep_lastname%></p>
								</div>
							</div>
				     	</div>
				     	<div class="col-xl-4 col-lg-6 col-md-6">
				     		<div class="row inner-box-id-code">
								<div class="col-md-6 p-0">
									<div class="for-flex-align">
										<img src="../assets/images/icons/home-assets/verified-emailID.png">
										<p>Email ID</p>
									</div>
								</div>
								<div class="col-md-6 dubble-dot-after p-0">
									<p><%=decrypt(result.rep_emailid)%></p>
								</div>
							</div>
				     	</div>
				    
				     	<div class="col-xl-4 col-lg-6 col-md-6">
				     		<div class="row inner-box-id-code">
								<div class="col-md-6 p-0">
									<div class="for-flex-align">
										<img src="../assets/images/icons/home-assets/phone.png">
										<p>Phone Number</p>
									</div>
								</div>
								<div class="col-md-6 dubble-dot-after p-0">
									<p><%= decrypt(user.tbl_user_registration.dataValues.mobile_number)%></p>
								</div>
							</div>
				     	</div>
				     	<div class="col-xl-4 col-lg-6 col-md-6">
				     		<div class="row inner-box-id-code">
								<div class="col-md-6 p-0">
									<div class="for-flex-align">
										<img src="../assets/images/icons/home-assets/ETHwallet.png">
										<p>Wallet Address</p>
									</div>
								</div>
								<div class="col-md-6 dubble-dot-after p-0">
									<p><%=user.dataValues.wallet_address%></p>
								</div>
							</div>
				     	</div>
				     	<div class="col-xl-4 col-lg-6 col-md-6">
				     			<div class="row inner-box-id-code">
									<div class="col-md-6 p-0">
										<div class="for-flex-align">
											<img src="../assets/images/icons/home-assets/user.png">
											<p>Digital ID</p>
										</div>
									</div>
									<div class="col-md-6 dubble-dot-after p-0">
										<p>
											<a href=""><img src="../assets/images/icons/home-assets/drivinglicense.png"></a>
											<a href=""><img src="../assets/images/icons/home-assets/passport.png"></a>
											<a href=""><img src="../assets/images/icons/home-assets/photoID.png"></a>
											<a href="" class="add-icon"><i class="fas fa-plus"></i></a>
										</p>
									</div>
								</div>
				     	</div>
				     </div>	
					</div>
				</div>
<div id="personalcontent">
			    <div class="personal-info-heading">
					<div class="row align-item-center">
						<div class="col-md-8">
							<h4 class="purple-heading">Personal Information</h4>
						</div>
						<div class="col-md-4">
							<div class="text-right">
								<a href="javascript:downloadPersonal()" class="nodata">
									<div class="icon-for-dwnload">
										<div class="tooltip fade" data-title="Export Data">
											<img src="../assets/images/icons/dashboard-assets/export.png">
									     	<img class="info-icon" src="../assets/images/icons/dashboard-assets/info-icon.png">
										</div>
										
									</div>
								</a>
								<a class="nodata" id="" onclick="printdiv()">
									<div class="icon-for-dwnload">
										<div class="tooltip fade" data-title="Print Data">
											<img src="../assets/images/icons/dashboard-assets/print.png">
										    <img class="info-icon" src="../assets/images/icons/dashboard-assets/info-icon.png">
										</div>
									</div>
								</a>
							</div>
						</div>
					</div>
				</div>
				
				<div class="personal-info-box table-responsive" >
					<table class="table" id="myTable">
					  <thead>
					    <tr>
					      <th scope="col">Label</th>
					      <th scope="col">Content</th>
					      <th scope="col">Create Date</th>
					      <th class="nodata" scope="col">Action</th>
					    </tr>
					  </thead>
					  <tbody>
					    <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/createidentity-assets/user.png">
					      		First Name
					      	</div>
					      </th>
					      <td><%=result.rep_firstname%></td>
					      <td><%=moment(result.createdAt).format('MMM DD, YYYY')%></td>
					      <td>
					      	<div>
					      		<a class="nodata" href="" data-toggle="modal" data-target="#first-name-Modal">
					      			<img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      	</div>
					      </td>
					    </tr>
					     <!-- <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/createidentity-assets/user.png">
					      		Middle Name
					      	</div>
					      </th>
					      <td>-</td>
					      <td><%=moment(result.createdAt).format('MMM DD, YYYY')%></td>
					      <td>
					      	<div>
					      		<a class="nodata" href="" data-toggle="modal" data-target="#middle-name-Modal">
					      		  <img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      	</div>
					      </td>
					    </tr> -->
					     <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/createidentity-assets/user.png">
					      		Last Name
					      	</div>
					      </th>
					      <td><%=result.rep_lastname%></td>
					      <td><%=moment(result.createdAt).format('MMM DD, YYYY')%></td>
					      <td>
					      	<div>
					      		<a class="nodata" href="" data-toggle="modal" data-target="#last-name-Modal">
					      		  <img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      	</div>
					      </td>
					    </tr>
					     <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/dashboard-assets/country.png">
					      		Country
					      	</div>
						  </th>
						 
						  <td> <%if(!country){%>
							  Not Available.
							  <%}else{%>
								<%=country%>
								<%}%>
							</td>
						 
							
					      <td><%=moment(result.createdAt).format('MMM DD, YYYY')%></td>
					      <td>
					      	<div>
					      		<a class="nodata" href="" data-toggle="modal" data-target="#country-name-Modal">
					      		  <img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      	</div>
					      </td>
					    </tr>
					     <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/dashboard-assets/verified-emailID.png">
					      		Email ID
					      	</div>
					      </th>
					      <td><%=decrypt(user.tbl_user_registration.dataValues.email)%></td>
					      <td><%=moment(user.tbl_user_registration.dataValues.createdAt).format('MMM DD, YYYY')%></td>
					      <td>
					      	<div>
					      		<a class="nodata" href="" data-toggle="modal" data-target="#email-id-Modal">
					      		  <img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      		<span class="tooltip fade" data-title="Your email is verified.">
					      			<img class="tooltip-inner-img" src="../assets/images/icons/dashboard-assets/verified.png" >
					      			<img class="info-icon" src="../assets/images/icons/dashboard-assets/info-icon.png">
					      		</span>
					      		
					      	</div>
					      </td>
					    </tr>
					      <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/dashboard-assets/phone.png">
					      		Phone Number
					      	</div>
					      </th>
					      <td><%= decrypt(user.tbl_user_registration.dataValues.mobile_number)%></td>
					      <td><%=moment(user.tbl_user_registration.dataValues.createdAt).format('MMM DD, YYYY')%></td>
					       <td>
					      	<div>
					      		<a class="nodata" href="" data-toggle="modal" data-target="#phone-no-Modal">
					      		  <img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      		<a href="" data-toggle="modal" data-target="#phone-not-verified-Modal">
						      		<span class="tooltip fade" data-title="Your phone number is not verified. Click here to verify.">
						      			<img class="tooltip-inner-img" src="../assets/images/icons/dashboard-assets/verificationpending.png" >
						      			<img class="info-icon" src="../assets/images/icons/dashboard-assets/info-icon.png">
						      		</span>
					      		</a>
					      		
					      		
		 			      	</div>
					      </td>
					    </tr>
					  </tbody>
					</table>
				</div>
</div>
<div id="additionalcontent">
				 <div class="personal-info-heading">
					<div class="row align-item-center">
						<div class="col-xl-7 col-lg-5 col-md-5">
							<h4 class="purple-heading">Additional Information</h4>
						</div>
						<div class="col-xl-3 col-lg-4 col-md-4" data-html2canvas-ignore>
							<div>
								<a href="" data-toggle="modal" data-target="#add-info-Modal" class="btn-common-new btn-with-extra-padding nodata">add information</a>
							</div>
						</div>
						<div class="col-xl-2 col-lg-3 col-md-3">
							<div class="text-right">
								<a href="javascript:downloadAdditional()" class="nodata">
									<div class="icon-for-dwnload">
										<div class="tooltip fade" data-title="Export Data">
											<img src="../assets/images/icons/dashboard-assets/export.png">
									     	<img class="info-icon" src="../assets/images/icons/dashboard-assets/info-icon.png">
										</div>
										
									</div>
								</a>
								<a onclick="printadditional()" class="nodata">
									<div class="icon-for-dwnload">
										<div class="tooltip fade" data-title="Print Data">
											<img src="../assets/images/icons/dashboard-assets/print.png">
										    <img class="info-icon" src="../assets/images/icons/dashboard-assets/info-icon.png">
										</div>
									</div>
								</a>
							</div>
						</div>
					</div>
				</div>

				<div class="personal-info-box table-responsive">
					<table class="table" id="myTable2">
					  <thead>
					    <tr>
					      <th scope="col">Label</th>
					      <th scope="col">Content</th>
					      <th scope="col">Create Date</th>
					      <th class="nodata" scope="col">Action</th>
					    </tr>
					  </thead>
					  <tbody>
					    <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/dashboard-assets/address.png">
					      		Address 
					      	</div>
						  </th>
						  <%if(result.entity_company_address!=null){%>
						  <td><%=result.entity_company_address%></td>
						  <%}else{%>
							<td>Not Available</td>
							<%}%>
					      <td><%=moment(result.createdAt).format('MMM DD, YYYY')%></td>
					      <td>
					      	<div>
					      		<a class="nodata" href="" data-toggle="modal" data-target="#address-Modal">
					      		  <img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      	</div>
					      </td>
					    </tr>
					     <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/dashboard-assets/BTCwalletaddress.png">
					      		BTC Wallet Address
					      	</div>
					      </th>
						  <%if(result.rep_btc_address!=null){%>
							<td><%=result.rep_btc_address%></td>
							<%}else{%>
							  <td>Not Available</td>
							  <%}%>
					      <td><%=moment(result.createdAt).format('MMM DD, YYYY')%></td>
					      <td>
					      	<div>
					      		<a class="nodata" href="" data-toggle="modal" data-target="#btc-wallet-address-Modal">
					      		  <img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      	</div>
					      </td>
					    </tr>
					     <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/dashboard-assets/company.png">
					      		Company Name
					      	</div>
					      </th>
					      <%if(result.rep_company_name!=null){%>
							<td><%=result.rep_company_name%></td>
							<%}else{%>
							  <td>Not Available</td>
							  <%}%>
					      <td><%=moment(result.createdAt).format('MMM DD, YYYY')%></td>
					      <td>
					      	<div>
					      		<a class="nodata" href="" data-toggle="modal" data-target="#company-name-Modal">
					      		  <img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      	</div>
					      </td>
					    </tr>
					     <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/dashboard-assets/DOB.png">
					      		Date of Birth
					      	</div>
					      </th>
					      <td><%=decrypt(user.tbl_user_registration.dataValues.dob)%></td>
					      <td><%=moment(user.tbl_user_registration.dataValues.createdAt).format('MMM DD, YYYY')%></td>
					      <td>
					      	<div>
					      		<a class="nodata" class="nodata" href="" data-toggle="modal" data-target="#dob-Modal">
					      		  <img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      	</div>
					      </td>
					    </tr>
					     <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/dashboard-assets/ETHwallet.png">
					      		ETH Wallet Address
					      	</div>
					      </th>
					      <td><%=user.dataValues.wallet_address%></td>
					      <td><%=moment(user.dataValues.createdAt).format('MMM DD, YYYY')%></td>
					      <td>
					      	<div>
					      		<a class="nodata" href="" data-toggle="modal" data-target="#eth-wallet-address-Modal">
					      		  <img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      	</div>
					      </td>
					    </tr>
					      <tr>
					      <th scope="row">
					      	<div class="for-flex-align">
					      		<img src="../assets/images/icons/dashboard-assets/nationality.png">
					      		Nationality
					      	</div>
					      </th>
					      <%if(result.rep_nationality!=null){%>
							<td><%=result.rep_nationality%></td>
							<%}else{%>
							  <td>Not Available</td>
							  <%}%>
					      <td><%=moment(result.createdAt).format('MMM DD, YYYY')%></td>
					      <td>
					      	<div>
					      		<a class="nodata" href="" data-toggle="modal" data-target="#nationality-Modal">
					      		  <img src="../assets/images/icons/dashboard-assets/edit.png">
					      		</a>
					      	</div>
					      </td>
						</tr>
						
						<%if(additional_info_array != "null" && additional_info_array!="" && additional_info_array!=undefined){
							if(additional_info_array.length){
							for( let info of additional_info_array){
								if(info!=undefined || info!=null){
							%>
							<tr>
						<th scope="row">
									<div class="for-flex-align">
										<img src="../assets/images/icons/dashboard-assets/nationality.png">
										<%=info.label%>
									</div>
								</th>
								  <td><%=info.content%></td>
								<td><%=moment(result.createdAt).format('MMM DD, YYYY')%></td>
								<td>
									<div>
										<a class="nodata" href="" data-toggle="modal" data-target="#">
										  <img src="../assets/images/icons/dashboard-assets/edit.png">
										</a>
									</div>
								</td>
							  </tr>
							  <%}}}}%>
					  </tbody>
					</table>
				</div>
</div>
				 <div class="personal-info-heading">
					<div class="row align-item-center">
						<div class="col-xl-10 cl-lg-9 col-md-9">
							<ul class="nav nav-tabs all-doc-tabs" id="myTab" role="tablist">
							  <li class="nav-item">
							    <a class="nav-link active" id="doc1" data-toggle="tab" href="#doc-tab1" role="tab" aria-controls="doc-tab1" aria-selected="true">All Documents</a>
							  </li>
							  <li class="nav-item">
							    <a class="nav-link" id="doc2" data-toggle="tab" href="#doc-tab2" role="tab" aria-controls="doc-tab2" aria-selected="false">Certified Documents</a>
							  </li>
							  <li class="nav-item">
							    <a class="nav-link" id="doc3" data-toggle="tab" href="#doc-tab3" role="tab" aria-controls="doc-tab3" aria-selected="false">Self Attested Documents</a>
							  </li>
							 
							</ul>
						</div>
						<div class="col-xl-2 col-lg-3 col-md-3">
							<div class="text-right">
								<a onclick="downloaddoclist()">
									<div class="icon-for-dwnload">
										<div class="tooltip fade" data-title="Export Data">
											<img src="../assets/images/icons/dashboard-assets/export.png">
									     	<img class="info-icon" src="../assets/images/icons/dashboard-assets/info-icon.png">
										</div>
										
									</div>
								</a>
								<a onclick="printtab()">
									<div class="icon-for-dwnload">
										<div class="tooltip fade" data-title="Print Data">
											<img src="../assets/images/icons/dashboard-assets/print.png">
										    <img class="info-icon" src="../assets/images/icons/dashboard-assets/info-icon.png">
										</div>
									</div>
								</a>
							</div>
						</div>
					</div>
				</div>
				
				<div class="tab-content" id="myTabContent">
						<div class="tab-pane fade show active" id="doc-tab1" role="tabpanel" aria-labelledby="doc1">
							<div class="btn-all-dwnload">
							  <a class="nodata" href=""><img src="../assets/images/icons/dashboard-assets/upload-purple.png"> Upload</a>
							  <a class="nodata" href="javascript:void(0)" onclick="downloaddoclist()"><img src="../assets/images/icons/dashboard-assets/download-purple.png"> Download</a>
							  
							  <a class="nodata" href="#set-all-checked-permission-Modal" id="verifier_for_check" onclick="verifier_for_checked()" data-toggle="modal"><img src="../assets/images/icons/dashboard-assets/set-docs-permission-purple.png"> Set Document Permission</a>

							  <a class="nodata" href=""><img src="../assets/images/icons/dashboard-assets/selfattest-purple.png"> Self Attest</a>
						  </div>
							 <div class="personal-info-box table-responsive">
							  <table class="table" id="myTable3">
								<thead>
								  <tr>
									<th scope="col">Label</th>
									<th scope="col">Content</th>
									<th scope="col">ID Number</th>
									<th scope="col">Expiry Date</th>
									<th scope="col">Create Date</th>
									<th scope="col">Action</th>
								  </tr>
								</thead>
								<tbody>
									<%if(documents!=null && documents!="" && documents!=undefined){
										var i=0;
										for(let document of documents){%>
								  <tr>
									<th scope="row">
										<div class="for-flex-align">
											 <div class="checkbox">
											<label>
											  <input type="checkbox" class="mycxk" name="all_doc_check" id="all_doc_check<%=i%>" value="<%=document.user_doc_id%>">
											  <span class="cr"><i class="cr-icon fa fa-check"></i></span>
											  <%=document.document_name%>
											</label>
										  </div>
										  
										</div>
									</th>
									<td>
										<div class="doc-img">
											<%
											var k=0,l=0;
											if(document!=null){%>
												<%document.file_content.forEach(function(file){%>
												
											<a href="" data-toggle="modal" onclick="show_doc_img('<%=i%><%=k%>')" data-target="#doc-img-Modal">
											<img id="img_tag<%=i%><%=k%>" src="https://ipfs.io/ipfs/<%=file%>">
										</a>
										<%k++; })%>
										<%document.video_content.forEach(function(vid){%>
			 									
											<a href="" data-toggle="modal" onclick="show_doc_vid('<%=i%><%=l%>')" data-target="#doc-img-Modal">
										    <video width="100" height="100" controls>
												<source id="vid_tag<%=i%><%=l%>" src="https://ipfs.io/ipfs/<%=vid%>" type="video/mp4">
											</video>
										</a>
										<%l++;})%>
										<%}%>
										</div>
									</td>
									<td><%=document.doc_unique_code%></td>
									<td><%=moment(document.expire_date).format('MMM DD, YYYY')%></td>
									<td><%=moment(document.createdAt).format('MMM DD, YYYY')%></td>
									<td>
										<!-- <div class="doc-img">
											<img src="../assets/images/icons/dashboard-assets/menu.png">
										</div> -->
										<div class="dropdown-menu-new">
										  <a class="nav-link dropdown-toggle" id="profileDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
											<div class="doc-img">
													<img src="../assets/images/icons/dashboard-assets/menu.png">
												</div>
										  </a>
										  <div class="dropdown-menu" aria-labelledby="profileDropdown">
											  <a class="dropdown-item" href="" data-toggle="modal" data-target="#upload-doc-Modal<%=i%>"><img src="../assets/images/icons/dashboard-assets/upload.png"> Upload</a>
											  <a class="dropdown-item"  href="javascript:void(0)" onclick="downloaddoclist()"><img src="../assets/images/icons/dashboard-assets/download.png"> Download</a>
											  <a class="dropdown-item" data-toggle="modal" href="#set-docs-permission-Modal<%=i%>" id="verifier_for_indi<%=i%>" onclick="verifier_for_indivi('<%=i%>')" ><img src="../assets/images/icons/dashboard-assets/set-docs-permission.png"> Set Document Permission</a>
											  <a class="dropdown-item" href="" data-toggle="modal" data-target="#self-attested-Modal<%=i%>"><img src="../assets/images/icons/dashboard-assets/self-attest.png"> Self Attest</a>	
										  </div>
									   </div>
									</td>
								  </tr>
								 <% i++; }}else{%>
	                           <td>No record found.</td>
								  <%}%>
								</tbody>
							  </table>
						   </div>
						   <div class="text-center btn-set-doc">
							   <div class="row">
								   <div class="col-xl-4 offset-xl-2 col-lg-6 col-md-6 col-sm-6">
									   <a href="#set-all-permission-Modal" onclick="getVerifierList()" id="setpermissionbtn" class="btn-common-new" data-toggle="modal" >set documents permission</a>
								   </div>
								   <div class="col-xl-4  col-lg-6 col-md-6 col-sm-6">
									   <a href="" data-toggle="modal" data-target="#add-new-doc-Modal" class="btn-common-new">add new document</a>
								   </div>
							   </div>
							   
							   
						   </div>
						</div>
						<div class="tab-pane fade" id="doc-tab2" role="tabpanel" aria-labelledby="doc2">
	  
							<div class="btn-all-dwnload">
							  <a class="nodata"  href="javascript:void(0)" onclick="downloaddoccertified()"><img src="../assets/images/icons/dashboard-assets/download-purple.png"> Download Certified Document</a>
							  <a class="nodata" href=""><img src="../assets/images/icons/dashboard-assets/cancel-purple.png"> Cancel</a>
						  </div>
							<div class="personal-info-box table-responsive">
							  <table class="table" id="myTable3">
								<thead>
								  <tr>
									<th scope="col">Label</th>
									<th scope="col">Verifier</th>
									<th scope="col">Code</th>
									<th scope="col">Transaction ID</th>
									<th scope="col">Status</th>
									<th scope="col">Action</th>
								  </tr>
								</thead>
								<tbody>
								<%if(documents!=null){
									var i=0;
								for(let document of documents){
									if(document.certified_status=="yes"){%>
								  <tr>
									<th scope="row">
										<div class="for-flex-align">
											 <div class="checkbox">
											<label>
											  <input type="checkbox" name="certify_doc_check<%=i%>" value="">
											  <span class="cr"><i class="cr-icon fa fa-check"></i></span>
											  <%=document.document_name%>
											</label>
										  </div>
										</div>
									</th>
									<td>
										--
									</td>
									<td><%=document.doc_unique_code%></td>
									<td width="20%">--</td>
									<td>
										<div class="pending-status">Pending</div>
									</td>
									<td>
										<div class="dropdown-menu-new">
										  <a class="nav-link dropdown-toggle" id="profileDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
											<div class="doc-img">
													<img src="../assets/images/icons/dashboard-assets/menu.png">
												</div>
										  </a>
										  <div class="dropdown-menu" aria-labelledby="profileDropdown">
											  <a class="dropdown-item" href=""><img src="../assets/images/icons/dashboard-assets/view.png"> View Attested Document</a>
											  <a class="dropdown-item" href="javascript:void(0)"><img src="../assets/images/icons/dashboard-assets/download.png"> Download Attested Document</a>
											  <a class="dropdown-item" href=""><img src="../assets/images/icons/dashboard-assets/cancel.png"> Cancel</a>
										  </div>
									   </div>
									</td>
								  </tr>
								  <% i++; }else{%>
								
									<%}}}else{%>
									<td>No record found.</td>
									   <%}%>
	  
								  
								</tbody>
							  </table>
						   </div>
						</div>
						
						 <div class="tab-pane fade" id="doc-tab3" role="tabpanel" aria-labelledby="doc3">
							<div class="btn-all-dwnload">
							  <a class="nodata" href="javascript:void(0)" onclick="downloaddocattested()"><img src="../assets/images/icons/dashboard-assets/download-purple.png"> Download Attested Document</a>
							  <a class="nodata" href=""><img src="../assets/images/icons/dashboard-assets/cancel-purple.png"> Cancel</a>
							</div> 				 
						  
							<div class="personal-info-box table-responsive">
							  <table class="table" id="myTable3">
								<thead>
								  <tr>
									<th scope="col">Label</th>
									<th scope="col">Content</th>
									<th scope="col">ID Number</th>
									<th scope="col">Expiry Date</th>
									<th scope="col">Create Date</th>
									<th scope="col">Transaction ID</th>
									<th scope="col">Action</th>
								  </tr>
								</thead>
								<tbody>
										<%if(documents!=null){
											var i=0;
										for(let document of documents){
											if(document.self_assested=="yes"){%>
								  <tr>
									<th scope="row">
										<div class="for-flex-align">
											 <div class="checkbox">
											<label>
											  <input type="checkbox" name="attested_doc_check<%=i%>" value="">
											  <span class="cr"><i class="cr-icon fa fa-check"></i></span>
											  <%=document.document_name%>
											</label>
										  </div>
										</div>
									</th>
									<td>
										<div class="doc-img">
											<%
											if(document!=null){%>
												<%document.file_content.forEach(function(file){%>
												
											<a href="" data-toggle="modal" data-target="#doc-img-Modal<%=i%>">
											<img src="https://ipfs.io/ipfs/<%=file%>">
										</a>
										<%})%>
										<%document.video_content.forEach(function(vid){%>
												
											<!-- <a href="" data-toggle="modal" data-target="#doc-img-Modal<%=i%>"> -->
										    <video width="100" height="100" controls>
												<source src="https://ipfs.io/ipfs/<%=vid%>" type="video/mp4">
											</video>
										<!-- </a> -->
										<%})%>
										<%}%>
										</div>
									</td>
									<td><%=document.doc_unique_code%></td>
									<td><%=moment(document.expire_date).format('MMM DD, YYYY')%></td>
									<td><%=moment(document.createdAt).format('MMM DD, YYYY')%></td>
									<td width="20%">--</td>
									<td>
										<!-- <div class="doc-img">
											<img src="../assets/images/icons/dashboard-assets/menu.png">
										</div> -->
										<div class="dropdown-menu-new">
										  <a class="nav-link dropdown-toggle" id="profileDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
											<div class="doc-img">
													<img src="../assets/images/icons/dashboard-assets/menu.png">
												</div>
										  </a>
										  <div class="dropdown-menu" aria-labelledby="profileDropdown">
											  <a class="dropdown-item" href=""><img src="../assets/images/icons/dashboard-assets/view.png"> View Attested Document</a>
											  <a class="dropdown-item" href=""><img src="../assets/images/icons/dashboard-assets/download.png"> Download Attested Document</a>
											  <a class="dropdown-item" href=""><img src="../assets/images/icons/dashboard-assets/cancel.png"> Cancel</a>
										  </div>
									   </div>
									</td>
								  </tr>
								  <% i++; }else{%>
									<!-- <td>No record found.</td> -->
									<%}}}else{%>
									<td>No record found.</td>
									   <%}%>
								  
								</tbody>
							  </table>
						   </div>
						 </div>
				</div>
			</div>			
		</div>
	</div>
</section>

<%}}%>
<%if(result){
	if(user){%>
<!-- Modal -->
<!-- completed -->
<div class="modal fade field-edit-modal" id="first-name-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/updateinfo.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
					<form method="POST" action="/update-representative" id="form_first_name">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
									
								  <input type="text" class="form-control" readonly placeholder="First Name" >
									
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/createidentity-assets/user.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
										<%if(result.rep_firstname){%>
								  <input type="text" class="form-control" name="firstname" placeholder="Content" value="<%=result.rep_firstname%>" data-rule-required="true" data-msg-required="Please enter first name.">
								  <%}else{%> 
								  <input type="text" class="form-control" name="firstname" placeholder="Content" data-rule-required="true" data-msg-required="Please enter first name.">
								  <%}%>
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/createidentity-assets/user.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
								<input type="hidden" id="reflect_id" name="reflect_id" value="<%=result.reflect_id%>">
							<button class="btn-common-new" id="form_first_name_btn" type="submit">Save</button>
							<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
						</div>
					</div>
					</form>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>

<!-- completed -->
<div class="modal fade field-edit-modal" id="middle-name-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/updateinfo.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
						<form method="POST" action="/update-representative" id="form_middle_name">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
								  <input type="text" class="form-control" readonly placeholder="Middile Name" value="Middile Name">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/createidentity-assets/user.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
										<%if(result.rep_middlename){%>
								  <input type="text" class="form-control" name="middlename" placeholder="Content" value="<%=result.rep_middlename%>" data-rule-required="true" data-msg-required="Please enter middle name.">
								  <%}else{%> 
								  <input type="text" class="form-control" name="middlename" placeholder="Content" data-rule-required="true" data-msg-required="Please enter middle name.">
								  <%}%>
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/createidentity-assets/user.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
								<input type="hidden" name="reflect_id" value="<%=result.reflect_id%>">
								<button class="btn-common-new" id="form_middle_name_btn" type="submit">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
						</div>
					</div>
					</form>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>

<!-- completed -->
<div class="modal fade field-edit-modal" id="last-name-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/updateinfo.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
					<form method="POST" action="/update-representative" id="form_last_name">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
								  <input type="text" class="form-control" readonly placeholder="Last Name" value="Last Name">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/createidentity-assets/user.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
										<%if(result.rep_lastname){%>
								  <input type="text" class="form-control" name="lastname" laceholder="Content" value="<%=result.rep_lastname%>" data-rule-required="true" data-msg-required="Please enter last name.">
								  <%}else{%> 
								  <input type="text" class="form-control" name="lastname" placeholder="Content" data-rule-required="true" data-msg-required="Please enter last name.">
								  <%}%>
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/createidentity-assets/user.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
								<input type="hidden" name="reflect_id" value="<%=result.reflect_id%>">
								<button class="btn-common-new" id="form_last_name_btn" type="submit">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
						</div>
					</div>
					</form>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>

<!-- completed -->
<div class="modal fade field-edit-modal" id="country-name-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-country-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
						<form method="POST" action="/update-representative" id="form_country_name">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
								  <input type="text" class="form-control" readonly placeholder="Country Name" value="Country Name">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/country.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
									<select class="form-control" name="country_name">
										<%for(let country of allCountries){%>
									<option value="<%=country.country_id%>"><%=country.country_name%></option>
									<%}%>
									<!-- <option>2</option>
									<option>3</option>
									<option>4</option>
									<option>5</option> -->
									</select>
										<!-- <%if(country!=""){%>
								  <input type="text" class="form-control" name="country_name" value="<%=country%>">
								  <%}else{%> 
								  <input type="text" class="form-control" name="country_name" placeholder="Content">
								  <%}%> -->
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/country.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
								<input type="hidden" name="reflect_id" value="<%=result.reflect_id%>">
								<button class="btn-common-new" id="form_country_name_btn" type="submit">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
						</div>
					</div>
					</form>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>

<!-- <div class="modal fade field-edit-modal" id="email-id-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-email-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
								  <input type="email" class="form-control" readonly placeholder="Email ID" value="Email ID">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/verified-emailID.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
								  <input type="email" class="form-control" placeholder="Content">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/verified-emailID.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
							<a class="btn-common-new" href="">Save</a>
							<a class="btn-common-new" href="">Cancel</a>
						</div>
					</div>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div> -->


<!-- <div class="modal fade field-edit-modal" id="phone-no-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-mobile-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
								  <input type="text" class="form-control" readonly placeholder="Phone Number" value="Phone Number">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/phone.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
								  <input type="text" class="form-control" placeholder="Content">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/phone.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
							<a class="btn-common-new" href="">Save</a>
							<a class="btn-common-new" href="">Cancel</a>
						</div>
					</div>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div> -->

<!-- completed -->
<div class="modal fade field-edit-modal" id="address-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-address-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
						<form method="POST" action="/update-representative" id="form_address">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
								  <input type="text" class="form-control" readonly placeholder="Address" value="Address">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/address.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
									<%if(result.entity_company_address!=null){%>
								  <input type="text" class="form-control" name="company_address" value="<%=result.entity_company_address%>" data-rule-required="true" data-msg-required="Please enter your address.">
								  <%}else{%> 
									<input type="text" class="form-control" name="company_address" placeholder="Content" data-rule-required="true" data-msg-required="Please enter your address.">
									<%}%>
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/address.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
								<input type="hidden" name="reflect_id" value="<%=result.reflect_id%>">
								<button class="btn-common-new" id="form_address" type="submit">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
						</div>
					</div>
					</form>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>

<!-- completed -->
<div class="modal fade field-edit-modal" id="btc-wallet-address-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-btc-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
						<form method="POST" action="/update-representative" id="form_btc_address">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
								  <input type="text" class="form-control" readonly placeholder="BTC Wallet Address" value="BTC Wallet Address">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/BTCwalletaddress.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
										<%if(result.rep_btc_address!=null){%>
								  <input type="text" class="form-control" name="btc_wallet_address" value="<%=result.rep_btc_address%>" data-rule-required="true" data-msg-required="Please enter your BTC wallet address.">
								  <%}else{%> 
								  <input type="text" class="form-control" name="btc_wallet_address" placeholder="Content" data-rule-required="true" data-msg-required="Please enter your BTC wallet address.">
								  <%}%>
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/BTCwalletaddress.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
								<input type="hidden" name="reflect_id" value="<%=result.reflect_id%>">
								<button class="btn-common-new" id="form_btc_address_btn" type="submit">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
						</div>
					</div>
					</form>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>

<!-- completed -->
<div class="modal fade field-edit-modal" id="company-name-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-company-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
						<form method="POST" action="/update-representative" id="form_company_name">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
								  <input type="text" class="form-control" readonly placeholder="Company Name" value="Company Name">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/company.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
									<%if(result.rep_company_name!=null){%>
								  <input type="text" class="form-control" name="company_name" value="<%=result.rep_company_name%>" data-rule-required="true" data-msg-required="Please enter your company name.">
								  <%}else{%> 
								  <input type="text" class="form-control" name="company_name" placeholder="Content" data-rule-required="true" data-msg-required="Please enter your company name.">
								  <%}%>
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/company.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
								<input type="hidden" name="reflect_id" value="<%=result.reflect_id%>">
								<button class="btn-common-new" id="form_company_name_btn" type="submit">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
						</div>
					</div>
					</form>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>


<!-- <div class="modal fade field-edit-modal" id="dob-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-dob-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
								  <input type="text" class="form-control" readonly placeholder="Date Of Birth" value="Date Of Birth">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/DOB.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
								  <input type="text" class="form-control" id="datepicker" placeholder="Content">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/DOB.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
							<a class="btn-common-new" href="">Save</a>
							<a class="btn-common-new" href="">Cancel</a>
						</div>
					</div>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div> -->

<!-- completed -->
<div class="modal fade field-edit-modal" id="eth-wallet-address-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-eth-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
						<form method="POST" action="/update-representative" id="form_ETH_address">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
								  <input type="text" class="form-control" readonly placeholder="ETH Wallet Address" value="ETH Wallet Address">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/ETHwallet.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
										<%if(result.rep_eth_addess!=null){%>
								  <input type="text" class="form-control" name="eth_wallet_address" value="<%=result.rep_eth_addess%>" data-rule-required="true" data-msg-required="Please enter your ETH wallet address.">
								  <%}else{%> 
								  <input type="text" class="form-control" name="eth_wallet_address" placeholder="Content" data-rule-required="true" data-msg-required="Please enter your ETH wallet address.">
								  <%}%>
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/ETHwallet.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
								<input type="hidden" name="reflect_id" value="<%=result.reflect_id%>">
								<button class="btn-common-new" id="form_ETH_address_btn" type="submit">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
						</div>
					</div>
					</form>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>

<!-- completed -->
<div class="modal fade field-edit-modal" id="nationality-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-nationality-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Update Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
						<form method="POST" action="/update-representative" id="form_nationality">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<label>Label</label>
						    	<div class="input-group">
								  <input type="text" class="form-control" readonly placeholder="Nationality" value="Nationality">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/nationality.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
										<%if(result.rep_nationality!=null){%>
								  <input type="text" class="form-control" name="nationality" value="<%=result.rep_nationality%>" data-rule-required="true" data-msg-required="Please enter nationality.">
								  <%}else{%> 
								  <input type="text" class="form-control" name="nationality" placeholder="Content" data-rule-required="true" data-msg-required="Please enter nationality.">
								  <%}%>
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/nationality.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
								<input type="hidden" name="reflect_id" value="<%=result.reflect_id%>">
								<button class="btn-common-new" id="form_nationality_btn" type="submit">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
						</div>
					</div>
					</form>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>


<!-- <div class="modal fade field-edit-modal" id="phone-not-verified-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div class="for-icon-bg">
						<img src="../assets/images/icons/createidentity-assets/popup-mobile-icon.png">
					</div>
				</div>
				<div class="col-xl-10 col-lg-10 col-md-10">
					<h5 class="heading-purple">Phone Number Verification</h5>
					<p>Verify your phone number by entering the OTP sent to your registered email address.</p>
				</div>
			</div>
		   	<div class="login-form-main phone-otp">
				 <div class="form-group">
				    <label>OTP</label>
                    <div class="otp-box digit-group" data-group-name="digits" data-autosubmit="false" autocomplete="off">
                        <input type="text" id="otp1" name="otp1" class="form-control text-center" placeholder="-" maxlength="1" data-next="otp2" value="" />
                        <input type="text" id="otp2" name="otp2" class="form-control" placeholder="-" maxlength="1" data-next="otp3" data-previous="otp1">
                        <input type="text" id="otp3" name="otp3" class="form-control" placeholder="-" maxlength="1" data-next="otp4" data-previous="otp2">
                        <input type="text" id="otp4" name="otp4" class="form-control" placeholder="-" maxlength="1" data-previous="otp3">
                    </div>
				  </div>
				  <div class="private-key-copy-box">
				  	<button class="btn-common-new">Continue</button>
                    <p class="extra-link">Don't got OTP?<a href="">Resend</a></p>
				  </div>
			</div>
	 	  </div>
       </div>
    </div>
  </div>
</div> -->

<!-- completed -->
<div class="modal fade field-edit-modal" id="add-info-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-add-info-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Add Information</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
					<form method="POST" action="/additional-info" id="form_additional_info">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
						    <div class="form-group">
						    	<div class="input-group">
								  <input type="text" class="form-control" name="label" placeholder="Label" data-rule-required="true" data-msg-required="Please enter content label.">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/info-icon.png">
								    </span>
								  </div>
								</div>
						    </div>
						    <div class="form-group">
								<div class="input-group">
								  <input type="text" class="form-control" name="content" placeholder="Content" data-rule-required="true" data-msg-required="Please enter content value.">
								  <div class="input-group-append">
								    <span class="input-group-text">
								    	<img src="../assets/images/icons/dashboard-assets/info-icon.png">
								    </span>
								  </div>
								</div>
							</div>
						</div>
						<div >
								<input type="hidden" name="reflect_id" value="<%=result.reflect_id%>">
								<button class="btn-common-new" id="form_additional_info_btn" type="submit">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
						</div>
					</div>
				</form>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>


<%if(documents!=null && documents!="" && documents!=undefined){
	var b=0;
	for(let doc_data of documents){%>
	<div class="modal fade field-edit-modal" id="upload-doc-Modal<%=b%>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  <div class="modal-dialog" role="document">
		<div class="modal-content">
		  <div class="modal-body">
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
			  <span aria-hidden="true">&times;</span>
			</button>
			<div class="create-wallet-box"> 
				<div class="row align-item-center">
					<div class="col-xl-2 col-lg-3 col-md-3">
						<div>
							<img src="../assets/images/icons/createidentity-assets/popup-upload-icon.png">
						</div>
					</div>
					<div class="col-xl-7 col-lg-7 col-md-7">
						<h5 class="heading-purple">Upload Document</h5>
					</div>
				</div>
				<div class="row">
					<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
						<div class="setup-inner-box1 for-protact">
							<form action="/upload-new-doc-verifier-rep" method="POST"  enctype="multipart/form-data" id="">
							<div class="create-rflet-id-form">
								
								<div class="form-group">
									<label>File Name</label>
									<div class="input-group">
										<input type="text" class="form-control"value="  <%=doc_data.document_name%>" readonly="" placeholder="">
									</div>
								</div>
								<div class="form-group">
									<label>File unique Id</label>
									<div class="input-group">
										<input type="text" class="form-control"value="<%=doc_data.doc_unique_code%>" readonly="" placeholder="">
									</div>
								</div>
								<div class="form-group">
									<label>Expire Date</label>
									<div class="input-group">
										<input type="text" class="form-control"value="<%=moment(doc_data.expire_date).format('MMM DD, YYYY')%>" readonly="" placeholder="">
									</div>
								</div> 
								<div class="form-group">
									<label>Created Date</label>
									<div class="input-group">
										<input type="text" class="form-control"value="<%=moment(doc_data.createdAt).format('MMM DD, YYYY')%>" readonly="" placeholder="">
									</div>
								</div>
								<div class="form-group browse-file-section">
									<label>Upload Document</label>

									<input type="file" name="staff_image" id="staff_image" class="file check_type" style="visibility: hidden;position: absolute;" >
									<div class="input-group col-xs-12">
										<span class="input-group-btn">
										<button class="browse btn btn-primary input-lg" type="button"> Choose a file</button>
										</span>
										<input type="text" class="form-control" readonly="" placeholder="">
									</div>
								</div>
								<div class="input-group for-radio-check-id-as responsive-field-radio">
									<input type="text" class="form-control" readonly="" placeholder="Select file type"value="">
									<div class="input-group-append">
										<span class="input-group-text">
											<div class="radio">
											<label>
												<input type="radio" id="image_dis"name="o1" value="image">
												<span class="cr"><i class="cr-icon fa fa-circle"></i></span>
												Image
											</label>
											</div>
											<div class="radio">
											<label>
												<input type="radio" id="video_dis" name="o1" value="video">
												<span class="cr"><i class="cr-icon fa fa-circle"></i></span>
												Video
											</label>
											</div>
										</span>
									</div>
								</div>
							</div>
							<input type="hidden"  name="user_doc_id" value="<%=doc_data.user_doc_id%>" >
							<input type="hidden"  name="reflect_id" value="<%=result.reflect_id%>" >
	
							<div class="text-center">
								<button type="submit" class="btn-common-new" href="">Upload</button>
								<a class="btn-common-new" href="">Cancel</a>
							</div>
						</form>
						</div>
					</div>
				 </div>
			   </div>
		   </div>
		</div>
	  </div>
	</div>
	<% b++;}}%>


<!--self attested modal start-->
<%if(documents!=null && documents!="" && documents!=undefined){
	var i=0;
	for(let document of documents){%>
<div class="modal fade field-edit-modal" id="self-attested-Modal<%=i%>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-self-attest-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Self Attestation</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
					<div class="setup-inner-box for-protact">
						<div class="create-rflet-id-form">
							<%if(document!=null){
							  document.file_content.forEach(function(file){%>
						    <div class="licence-img">
						    	<img src="https://ipfs.io/ipfs/<%=file%>">
							</div>	
							<%})%>
							<% document.video_content.forEach(function(vid){%>
								<video width="400" height="400" controls>
									<source src="https://ipfs.io/ipfs/<%=vid%>" type="video/mp4">
								</video>
								<%})%>
						      <%}%>					    
							<div class="form-group for-signature-pad">
								<div class="row for-heading-sign">
									<label class="col-sm-6">Drow Your Sign</label>
								    <div class="col-sm-6 text-right">
								    	<button class="clear-sign" id="clear-signature">Clear</button>
								    </div>
								</div>
								<canvas id="signature<%= i %>" class="signature-data" width="640" height="150" ></canvas>
							</div>
							<span id="canvas_error" class="error_validate"></span>
						</div>
						<div >
								<input type="hidden" name="reflect_id" value="<%=result.reflect_id%>">
								<!-- <input type="hidden" name="dig_sign" id="dig_sign"> -->
								<input type="hidden" id="attested_doc_id<%=i%>" name="attested_doc_i" value="<%=document.user_doc_id%>">
								<button class="btn-common-new" id="sub_sign_btn" type="button" onclick="submit_signature('<%=i%>')">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
						</div>
					</div>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>
<% i++; }}%>
<!--self attested modal end-->

<%if(documents!=null && documents!="" && documents!=undefined){
	var s=0;
	for(let document of documents){%>
<div class="modal fade field-edit-modal" id="set-docs-permission-Modal<%=s%>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-set-doc-permission-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Document Permission</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
					<div class="setup-inner-box for-protact pt-15">
						<div class="create-rflet-id-form">
						    <div class="licence-img-small">
						    	<img src="https://ipfs.io/ipfs/<%=document.file_content%>">
						    </div>						    
							 <div class="form-group select-verifier-box">
						    	<div class="input-group">
								  <div class="dropdown">
									  <button class="dropbtn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									    Select Verifiers Via Code
									  </button>
									  <div class="dropdown-menu menu-for-id-indiv" id="indivi_verify_div<%=s%>" aria-labelledby="dropdownMenuButton">
									  </div>
									</div>
								  <div class="input-group-append">
								    <button class="btn address-book" type="button">Address Book</button>
								  </div>
								</div>
						    </div>
							<div class="form-group for-verify-text">
								<textarea class="form-control" id="msg_textArea<%=s%>" rows="5" placeholder="Message"></textarea>
							</div>

							<div class="personal-info-box for-download-view-table table-responsive">
								<table class="table">
								  <thead>
								    <tr>
								      <th scope="col">Label</th>
								      <th scope="col">Download</th>
								      <th scope="col">View</th>
								      <th scope="col">Certify</th>
								    </tr>
								  </thead>
								  <tbody>
								    <tr>
								      <th scope="row">
								      	<div class="for-flex-align">
								      		 <img src="../assets/images/icons/dashboard-assets/drivinglicense.png">
											   <%=document.document_name%> 
											   <input type="hidden" id="docIdIndividual<%=s%>" value="<%=document.user_doc_id%>">
								      	</div>
								      </th>
								      <td>
								      	<div class="checkbox">
								          <label>
								            <input type="checkbox" name="indiv_down<%=s%>" value="yes">
								            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
								          </label>
								        </div>
								      </td>
								      <td>
								      	<div class="checkbox">
								          <label>
								            <input type="checkbox" name="indiv_view<%=s%>" value="yes">
								            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
								          </label>
								        </div>
								      </td>
								      <td>
								      	<div class="checkbox">
								          <label>
								            <input type="checkbox" name="indiv_certify<%=s%>" value="yes">
								            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
								          </label>
								        </div>
								      </td>
								    </tr>
								  </tbody>
								</table>
							</div>
							<span id="indiv_error<%=s%>" class="error_validate"></span>
						</div>
						<div >
							<input type="hidden" name="indiv_reflect_id" id="indiv_reflect_id" value="<%=result.reflect_id%>">
								<button class="btn-common-new" type="button" data-toggle="modal" data-target="#doc-permission-Modal-for-indiv<%=s%>" data-dismiss="modal">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="#">Cancel</a>
						</div>
					</div>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>
<% s++; }}%>

<div class="modal  field-edit-modal" id="set-all-permission-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="create-wallet-box">
			<div class="row align-item-center">
				<div class="col-xl-2 col-lg-3 col-md-3">
					<div>
						<img src="../assets/images/icons/createidentity-assets/popup-set-doc-permission-icon.png">
					</div>
				</div>
				<div class="col-xl-7 col-lg-7 col-md-7">
					<h5 class="heading-purple">Document Permission</h5>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-lg-12 col-md-12 m-auto">
					<div class="setup-inner-box for-protact pt-15">
						<div class="create-rflet-id-form">
						    					    
							 <div class="form-group select-verifier-box">
						    	<div class="input-group">
								  <div class="dropdown">
									  <button class="dropbtn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									    Select Verifiers Via Code
									  </button>
									  <div class="dropdown-menu menu-for-id" id="verifierDropdown" aria-labelledby="dropdownMenuButton">
										  
									  </div>
									</div>
								  
								</div>
							</div>
							<div class="info-line-blue">
						    	<img src="../assets/images/icons/dashboard-assets/info-icon.png"> On boarding request will be sent when you send this documents.
						    </div>
							<div id="category_list" class="form-group">
								
							</div>
							<div id="sub_category_list" class="form-group">
								
							</div>

							<div id="category_docs" class="form-group">
								
							</div>


						   

						     <div class="form-group for-select-existing-doc">
						    	<div class="input-group">
								  <div class="dropdown keep-inside-clicks-open">
									  <button class="dropdwn-btn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									    Select from existing documents
									  </button>
									  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
											<%if(documents!=null && documents!="" && documents!=undefined){
												var i=0;
												for(let document of documents){%>
									     <div class="for-doc-select">
									    	<div class="checkbox"> 	
									          <label>
													<%=document.document_name%>
									            <input type="checkbox" onclick="get_check_doc('<%=i%>')" id="doc_check<%=i%>" value="<%=document.user_doc_id%>" name="doc_check">
									            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
									          </label>
									        </div>	
										 </div>
										 <% i++; }}%>
									     
									  </div>
									</div>
								  
								</div>
						    </div>

						    

							<div class="personal-info-box for-download-view-table table-responsive">
								<table class="table" id="myTable">
								  <thead>
								    <tr>
								      <th scope="col">Label</th>
								      <th scope="col">Download</th>
								      <th scope="col">View</th>
								      <th scope="col">Certify</th>
								    </tr>
								  </thead>
								  <tbody id="doc_data">
								    
								  </tbody>
								</table>
								<span id="prm_error_span" class="error_validate"></span>
							</div>
						</div>
						<div >
								<input type="hidden" name="doc_reflect_id" id="doc_reflect_id" value="<%=result.reflect_id%>">
								<button class="btn-common-new" type="button" id="subPerm" onclick="submit_all_perm()">Save</button>
								<a class="btn-common-new"  data-dismiss="modal" href="#">Cancel</a>
						</div>
					</div>
				</div>
			 </div>
	 	  </div>
       </div>
    </div>
  </div>
</div>

<div class="modal  field-edit-modal" id="set-all-checked-permission-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
	  <div class="modal-content">
		<div class="modal-body">
		  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		  <div class="create-wallet-box">
			  <div class="row align-item-center">
				  <div class="col-xl-2 col-lg-3 col-md-3">
					  <div>
						  <img src="../assets/images/icons/createidentity-assets/popup-set-doc-permission-icon.png">
					  </div>
				  </div>
				  <div class="col-xl-7 col-lg-7 col-md-7">
					  <h5 class="heading-purple">Document Permission</h5>
				  </div>
			  </div>
			  <div class="row">
				  <div class="col-xl-12 col-lg-12 col-md-12 m-auto">
					  <div class="setup-inner-box for-protact pt-15">
						  <div class="create-rflet-id-form">
													  
							   <div class="form-group select-verifier-box">
								  <div class="input-group">
									<div class="dropdown">
										<button class="dropbtn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
										  Select Verifiers Via Code
										</button>
										<div class="dropdown-menu menu-for-id-checked" id="checked_verify_div" aria-labelledby="dropdownMenuButton">
											
										</div>
									  </div>
									
								  </div>
							  </div>
  
							  <div class="info-line-blue">
								  <img src="../assets/images/icons/dashboard-assets/info-icon.png"> On boarding request will be sent when you send this documents.
							  </div>
  
							   <!-- <div class="form-group for-select-existing-doc">
								  <div class="input-group">
									<div class="dropdown keep-inside-clicks-open">
										<button class="dropdwn-btn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
										  Select from existing documents
										</button>
										<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
											  <%if(documents!=null && documents!="" && documents!=undefined){
												  var i=0;
												  for(let document of documents){%>
										   <div class="for-doc-select">
											  <div class="checkbox"> 	
												<label>
													  <%=document.document_name%>
												  <input type="checkbox" onclick="get_check_doc('<%=i%>')" id="doc_check<%=i%>" value="<%=document.user_doc_id%>" name="doc_check">
												  <span class="cr"><i class="cr-icon fa fa-check"></i></span>
												</label>
											  </div>	
										   </div>
										   <% i++; }}%>
										   
										</div>
									  </div>
									
								  </div>
							  </div> -->
  
							  
  
							  <div class="personal-info-box for-download-view-table table-responsive">
								  <table class="table" id="myCheckTable">
									<thead>
									  <tr>
										<th scope="col">Label</th>
										<th scope="col">Download</th>
										<th scope="col">View</th>
										<th scope="col">Certify</th>
									  </tr>
									</thead>
									<tbody id="checked_doc_data">
									  
									</tbody>
								  </table>
								  <span id="check_prm_error_span" class="error_validate"></span>
							  </div>
						  </div>
						  <div >
								  <input type="hidden" name="check_doc_reflect_id" id="check_doc_reflect_id" value="<%=result.reflect_id%>">
								  <button class="btn-common-new" type="button" id="checkSubPerm" onclick="submit_all_checked_perm()">Save</button>
								  <a class="btn-common-new"  data-dismiss="modal" href="#">Cancel</a>
						  </div>
					  </div>
				  </div>
			   </div>
			 </div>
		 </div>
	  </div>
	</div>
  </div>

<!-- completed --> 
<div class="modal fade field-edit-modal" id="add-new-doc-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
		  <div class="modal-content">
			<div class="modal-body">
			  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			  </button>
			  <div class="create-wallet-box">
				  <div class="row align-item-center">
					  <div class="col-xl-2 col-lg-3 col-md-3">
						  <div>
							  <img src="../assets/images/icons/createidentity-assets/popup-upload-icon.png">
						  </div>
					  </div>
					  <div class="col-xl-7 col-lg-7 col-md-7">
						  <h5 class="heading-purple">Add New Document</h5>
					  </div>
				  </div>
				  <div class="row">
					  <div class="col-xl-12 col-lg-12 col-md-12 m-auto">
						
							<form action="/add-new-doc-ver-rep" method="POST"  id="form_add_doc" enctype="multipart/form-data" >
						  <div class="setup-inner-box for-protact">
							  <div class="create-rflet-id-form">
								  <div class="form-group browse-file-section">
										<input type="file" name="document" class="file" style="visibility: hidden;position: absolute;" accept="image/x-png,image/jpeg">
										<div class="input-group col-xs-12">
										  <span class="input-group-btn">
											<button class="browse btn btn-primary input-lg" type="button"> Choose a file</button>
										  </span>
										  <input type="text" class="form-control" readonly="" placeholder="" data-rule-required="true" data-msg-required="Please select document file.">
										</div>
									</div>
									<div class="form-group">
									  <div class="input-group">
											<select class="form-control" name="document_id" data-rule-required="true" data-msg-required="Please select document type.">
								            <%if(allDocs){
											for(let docu of allDocs){%>
											    <option value="<%=docu.doc_id%>"><%=docu.document_name%></option>
											<%}}%>
											</select>
									  </div>
								  </div>  
								  <div class="form-group">
									  <div class="input-group">
										<input type="text" id="datepicker2" class="form-control" name="expiry_date" placeholder="Expiry Date" data-rule-required="true" data-msg-required="Please select expiry date.">
									  </div>
								  </div>
								  <div class="form-group">
									  <div class="input-group">
										<input type="text" class="form-control" name="id_number" placeholder="ID Number" data-rule-required="true" data-msg-required="Please enter ID number.">
									  </div>
								  </div>
							  </div>
							  <div >
									<input type="hidden" name="reflect_id" value="<%=result.reflect_id%>">
									<button class="btn-common-new" id="form_add_doc_btn" type="submit">Save</button>
									<a class="btn-common-new"  data-dismiss="modal" href="">Cancel</a>
							  </div>
						  </div>
						</form>
					  </div>
				   </div>
				 </div>
			 </div>
		  </div>
		</div>
</div>
	
<!-- completed -->
<div class="modal fade field-edit-modal" id="doc-img-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
		  <div class="modal-content">
			<div class="modal-body">
			  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			  </button>
			  <div class="modal-img-big">
				  <img src="../assets/images/icons/dashboard-assets/doc.png">
			  </div>
			 </div>
		  </div>
		</div>
</div>

<!-- completed -->
<%if(documents!=null){
	var i=0;
	for(let document of documents){%>
<div class="modal fade field-edit-modal" id="doc-img-Modal<%=i%>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
		  <div class="modal-content">
			<div class="modal-body">
			  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			  </button>
			  <%if(document!=null ){
				document.file_content.forEach(function(file){%>
			  <div class="modal-img-big">
				  <img src="https://ipfs.io/ipfs/<%=file%>" class="img-fluid">
			  </div>
			  <%})%>
			  <% document.video_content.forEach(function(vid){%>
				<video width="400" height="400" controls>
					<source src="https://ipfs.io/ipfs/<%=vid%>" type="video/mp4">
				</video>
				<%})%>
			     <%}%>
			 </div>
		  </div>
		</div>
	  </div>
	  <% i++; }}%>

	  <div class="modal field-edit-modal" id="doc-permission-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
			  <div class="modal-content">
				<div class="modal-body">
				  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				  </button>
				  <div class="create-wallet-box">
					  <div class="row align-item-center">
						  <div class="col-xl-2 col-lg-3 col-md-3">
							  <div class="for-icon-bg">
								  <img src="../assets/images/icons/createidentity-assets/popup-set-doc-permission-icon.png">
							  </div>
						  </div>
						  <div class="col-xl-10 col-lg-10 col-md-10">
							  <h5 class="heading-purple">Document Permission</h5>
							  
						  </div>
					  </div>
					  <div class="setup-inner-box for-protact mt-30 p-0">
						   <p>Are you sure you want to give document permission? click yes to continue.</p>
								  <div>
									  <a class="btn-common-new" href="" data-toggle="modal" data-target="#validate-pin-Modal" data-dismiss="modal">Yes</a>
									  <a class="btn-common-new" href="">No</a>
								  </div>
							  </div>
					 </div>
				 </div>
			  </div>
			</div>
		  </div>

		  <%if(documents!=null && documents!="" && documents!=undefined){
			var i=0;
			for(let document of documents){%>
		  <div class="modal field-edit-modal" id="doc-permission-Modal-for-indiv<%=i%>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
			  <div class="modal-content">
				<div class="modal-body">
				  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				  </button>
				  <div class="create-wallet-box">
					  <div class="row align-item-center">
						  <div class="col-xl-2 col-lg-3 col-md-3">
							  <div class="for-icon-bg">
								  <img src="../assets/images/icons/createidentity-assets/popup-set-doc-permission-icon.png">
							  </div>
						  </div>
						  <div class="col-xl-10 col-lg-10 col-md-10">
							  <h5 class="heading-purple">Document Permission</h5>
							  
						  </div>
					  </div>
					  <div class="setup-inner-box for-protact mt-30 p-0">
						   <p>Are you sure you want to give document permission? click yes to continue.</p>
								  <div>
									  <a class="btn-common-new" href="" data-toggle="modal" data-target="#validate-pin-Modal-for-indiv<%=i%>" data-dismiss="modal">Yes</a>
									  <a class="btn-common-new" href="">No</a>
								  </div>
							  </div>
					 </div>
				 </div>
			  </div>
			</div>
		  </div>
		<% i++;}}%>
		
		  <div class="modal field-edit-modal" id="doc-check-permission-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog" role="document">
				  <div class="modal-content">
					<div class="modal-body">
					  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					  </button>
					  <div class="create-wallet-box">
						  <div class="row align-item-center">
							  <div class="col-xl-2 col-lg-3 col-md-3">
								  <div class="for-icon-bg">
									  <img src="../assets/images/icons/createidentity-assets/popup-set-doc-permission-icon.png">
								  </div>
							  </div>
							  <div class="col-xl-10 col-lg-10 col-md-10">
								  <h5 class="heading-purple">Document Permission</h5>
								  
							  </div>
						  </div>
						  <div class="setup-inner-box for-protact mt-30 p-0">
							   <p>Are you sure you want to give document permission? click yes to continue.</p>
									  <div>
										  <a class="btn-common-new" href="" data-toggle="modal" data-target="#validate-pin-check-Modal" data-dismiss="modal">Yes</a>
										  <a class="btn-common-new" href="">No</a>
									  </div>
								  </div>
						 </div>
					 </div>
				  </div>
				</div>
			  </div>
		  
		  <!--pin modal start-->
		  <div class="modal field-edit-modal" id="validate-pin-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
			  <div class="modal-content">
				<div class="modal-body">
				  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				  </button>
				  <div class="create-wallet-box">
					  <div class="row align-item-center">
						  <div class="col-xl-2 col-lg-3 col-md-3">
							  <div class="for-icon-bg">
								  <img src="../assets/images/icons/createidentity-assets/popup-set-doc-permission-icon.png">
							  </div>
						  </div>
						  <div class="col-xl-10 col-lg-10 col-md-10">
							  <h5 class="heading-purple">Validate Pin</h5>
							  <p>Enter Your PIN to Continue</p>
						  </div>
					  </div>
						 <div class="login-form-main phone-otp mt-15">
						   <div class="form-group mb-0">
							  <label>PIN</label>
							  <div class="otp-box digit-group" data-group-name="digits" data-autosubmit="false" autocomplete="off">
								  <input type="text" id="otp1" name="otp1" class="form-control text-center" placeholder="-" maxlength="1" data-next="otp2">
								  <input type="text" id="otp2" name="otp2" class="form-control" placeholder="-" maxlength="1" data-next="otp3" data-previous="otp1">
								  <input type="text" id="otp3" name="otp3" class="form-control" placeholder="-" maxlength="1" data-next="otp4" data-previous="otp2">
								  <input type="text" id="otp4" name="otp4" class="form-control" placeholder="-" maxlength="1" data-previous="otp3">
							  </div>
							</div>
					  </div>
					  <span class="error_validate" id="req_err_prm"></span>
					  <div class="setup-inner-box for-protact pt-15">
						  <div>
							  <a class="btn-common-new" href="javascript:void(0)" onclick="pin_for_prm()" id="pin_prm_btn">Confirm</a>
							  <a class="btn-common-new" href="">Cancel</a>
						  </div>
					  </div>
					 </div>
				 </div>
			  </div>
			</div>
		  </div>
		  <!--pin modal end-->

		   <!--pin modal start-->
		   <%if(documents!=null && documents!="" && documents!=undefined){
			var i=0;
			for(let document of documents){%>
		   <div class="modal field-edit-modal" id="validate-pin-Modal-for-indiv<%=i%>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
			  <div class="modal-content">
				<div class="modal-body">
				  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				  </button>
				  <div class="create-wallet-box">
					  <div class="row align-item-center">
						  <div class="col-xl-2 col-lg-3 col-md-3">
							  <div class="for-icon-bg">
								  <img src="../assets/images/icons/createidentity-assets/popup-set-doc-permission-icon.png">
							  </div>
						  </div>
						  <div class="col-xl-10 col-lg-10 col-md-10">
							  <h5 class="heading-purple">Validate Pin</h5>
							  <p>Enter Your PIN to Continue</p>
						  </div>
					  </div>
						 <div class="login-form-main phone-otp mt-15">
						   <div class="form-group mb-0">
							  <label>PIN</label>
							  <div class="otp-box digit-group" data-group-name="digits" data-autosubmit="false" autocomplete="off">
								  <input type="text" id="op1<%=i%>" name="op1<%=i%>" class="form-control text-center" placeholder="-" maxlength="1" data-next="op2<%=i%>">
								  <input type="text" id="op2<%=i%>" name="op2<%=i%>" class="form-control" placeholder="-" maxlength="1" data-next="op3<%=i%>" data-previous="op1<%=i%>">
								  <input type="text" id="op3<%=i%>" name="op3<%=i%>" class="form-control" placeholder="-" maxlength="1" data-next="op4<%=i%>" data-previous="op2<%=i%>">
								  <input type="text" id="op4<%=i%>" name="op4<%=i%>" class="form-control" placeholder="-" maxlength="1" data-previous="op3<%=i%>">
							  </div>
							</div>
					  </div>
					  <span class="error_validate" id="req_err_prm_indiv<%=i%>"></span>
					  <div class="setup-inner-box for-protact pt-15">
						  <div>
							  <a class="btn-common-new" href="javascript:void(0)" onclick="indiv_pin_for_prm('<%=i%>')" id="indiv_pin_prm_btn">Confirm</a>
							  <a class="btn-common-new" href="">Cancel</a>
						  </div>
					  </div>
					 </div>
				 </div>
			  </div>
			</div>
		  </div>
		  <% i++; }}%>
		  <!--pin modal end-->

		   <!--pin modal start-->
		   <div class="modal field-edit-modal" id="validate-pin-check-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog" role="document">
				  <div class="modal-content">
					<div class="modal-body">
					  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					  </button>
					  <div class="create-wallet-box">
						  <div class="row align-item-center">
							  <div class="col-xl-2 col-lg-3 col-md-3">
								  <div class="for-icon-bg">
									  <img src="../assets/images/icons/createidentity-assets/popup-set-doc-permission-icon.png">
								  </div>
							  </div>
							  <div class="col-xl-10 col-lg-10 col-md-10">
								  <h5 class="heading-purple">Validate Pin</h5>
								  <p>Enter Your PIN to Continue</p>
							  </div>
						  </div>
							 <div class="login-form-main phone-otp mt-15">
							   <div class="form-group mb-0">
								  <label>PIN</label>
								  <div class="otp-box digit-group" data-group-name="digits" data-autosubmit="false" autocomplete="off">
									  <input type="text" id="o1" name="o1" class="form-control text-center" placeholder="-" maxlength="1" data-next="o2">
									  <input type="text" id="o2" name="o2" class="form-control" placeholder="-" maxlength="1" data-next="o3" data-previous="o1">
									  <input type="text" id="o3" name="o3" class="form-control" placeholder="-" maxlength="1" data-next="o4" data-previous="o2">
									  <input type="text" id="o4" name="o4" class="form-control" placeholder="-" maxlength="1" data-previous="o3">
								  </div>
								</div>
						  </div>
						  <span class="error_validate" id="req_err_prm_check"></span>
						  <div class="setup-inner-box for-protact pt-15">
							  <div>
								  <a class="btn-common-new" href="javascript:void(0)" onclick="pin_for_check_prm()" id="pin_prm_check_btn">Confirm</a>
								  <a class="btn-common-new" href="">Cancel</a>
							  </div>
						  </div>
						 </div>
					 </div>
				  </div>
				</div>
			  </div>
			  <!--pin modal end-->

			  <div class="modal fade field-edit-modal" id="doc-img-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog" role="document">
				  <div class="modal-content">
					<div class="modal-body">
					  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					  </button>
					 
					  <div id="img_modal" class="modal-img-big">
						  
					  </div>
					 
						
						
					 </div>
				  </div>
				</div>
			  </div>

		  <div class="modal  field-edit-modal" id="dsuccess-doc-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
			  <div class="modal-content">
				<div class="modal-body">
				  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				  </button>
				  <div class="create-wallet-box">
					  <div class="row align-item-center">
						  <div class="col-xl-2 col-lg-3 col-md-3">
							  <div class="for-icon-bg">
								  <img src="../assets/images/icons/createidentity-assets/popup-success-icon.png">
							  </div>
						  </div>
						  <div class="col-xl-10 col-lg-10 col-md-10">
							  <h5 class="heading-purple">Document Sent Successfully</h5>
							  
						  </div>
					  </div>
					  <div class="setup-inner-box for-protact mt-30 p-0">
						   <p>Your Document has been successfully sent to the verifier. Your document will be verified shortly and you'll ve notified in regards that.</p>
					  </div>
					  <div class="setup-inner-box for-protact pt-15">
						<div>
							<a href="" class="btn-common-new">OK!</a>
						</div>
						</div>
					 </div>
				 </div>
			  </div>
			</div>
		  </div>

<%}}%>
<%- include('../innerFooter')%>

<!-- <script type="text/javascript" src="assets/js/jquery-3.3.1.min.js"></script>
 --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>

<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.5.3/signature_pad.min.js"></script>

<script type="text/javascript" src="assets/js/jquery-ui.js"></script>

<script type="text/javascript">
	$('#form_add_doc').validate({
		 onfocusout: function(element) {
		 this.element(element);
		 },
		 errorClass: 'error_validate',
		 errorElement:'span',
		 highlight: function(element, errorClass) {
		 $(element).removeClass(errorClass);
		 },
		 submitHandler:function(form)
			{
			  $('#form_add_doc_btn').attr('disabled',true);
			  form.submit();
			}
		 });
</script>

<script type="text/javascript">
	$('#form_first_name').validate({
		 onfocusout: function(element) {
		 this.element(element);
		 },
		 errorClass: 'error_validate',
		 errorElement:'span',
		 highlight: function(element, errorClass) {
		 $(element).removeClass(errorClass);
		 },
		 submitHandler:function(form)
			{
			  $('#form_first_name_btn').attr('disabled',true);
			  form.submit();
			}
		 });
</script>

<script type="text/javascript">
	$('#form_middle_name').validate({
		 onfocusout: function(element) {
		 this.element(element);
		 },
		 errorClass: 'error_validate',
		 errorElement:'span',
		 highlight: function(element, errorClass) {
		 $(element).removeClass(errorClass);
		 },
		 submitHandler:function(form)
			{
			  $('#form_middle_name_btn').attr('disabled',true);
			  form.submit();
			}
		 });
</script>

<script type="text/javascript">
	$('#form_last_name').validate({
		 onfocusout: function(element) {
		 this.element(element);
		 },
		 errorClass: 'error_validate',
		 errorElement:'span',
		 highlight: function(element, errorClass) {
		 $(element).removeClass(errorClass);
		 },
		 submitHandler:function(form)
			{
			  $('#form_last_name_btn').attr('disabled',true);
			  form.submit();
			}
		 });
</script>

<script type="text/javascript">
	$('#form_address').validate({
		 onfocusout: function(element) {
		 this.element(element);
		 },
		 errorClass: 'error_validate',
		 errorElement:'span',
		 highlight: function(element, errorClass) {
		 $(element).removeClass(errorClass);
		 },
		 submitHandler:function(form)
			{
			  $('#form_address_btn').attr('disabled',true);
			  form.submit();
			}
		 });
</script>

<script type="text/javascript">
	$('#form_btc_address').validate({
		 onfocusout: function(element) {
		 this.element(element);
		 },
		 errorClass: 'error_validate',
		 errorElement:'span',
		 highlight: function(element, errorClass) {
		 $(element).removeClass(errorClass);
		 },
		 submitHandler:function(form)
			{
			  $('#form_btc_address_btn').attr('disabled',true);
			  form.submit();
			}
		 });
</script>

<script type="text/javascript">
	$('#form_company_name').validate({
		 onfocusout: function(element) {
		 this.element(element);
		 },
		 errorClass: 'error_validate',
		 errorElement:'span',
		 highlight: function(element, errorClass) {
		 $(element).removeClass(errorClass);
		 },
		 submitHandler:function(form)
			{
			  $('#form_company_name_btn').attr('disabled',true);
			  form.submit();
			}
		 });
</script>

<script type="text/javascript">
	$('#form_ETH_address').validate({
		 onfocusout: function(element) {
		 this.element(element);
		 },
		 errorClass: 'error_validate',
		 errorElement:'span',
		 highlight: function(element, errorClass) {
		 $(element).removeClass(errorClass);
		 },
		 submitHandler:function(form)
			{
			  $('#form_ETH_address_btn').attr('disabled',true);
			  form.submit();
			}
		 });
</script>

<script type="text/javascript">
	$('#form_nationality').validate({
		 onfocusout: function(element) {
		 this.element(element);
		 },
		 errorClass: 'error_validate',
		 errorElement:'span',
		 highlight: function(element, errorClass) {
		 $(element).removeClass(errorClass);
		 },
		 submitHandler:function(form)
			{
			  $('#form_nationality_btn').attr('disabled',true);
			  form.submit();
			}
		 });
</script>

<script type="text/javascript">
	$('#form_additional_info').validate({
		 onfocusout: function(element) {
		 this.element(element);
		 },
		 errorClass: 'error_validate',
		 errorElement:'span',
		 highlight: function(element, errorClass) {
		 $(element).removeClass(errorClass);
		 },
		 submitHandler:function(form)
			{
			  $('#form_additional_info_btn').attr('disabled',true);
			  form.submit();
			}
		 });
</script>

<!-- <script type="text/javascript">
	$('#form_additional_info').validate({
		 onfocusout: function(element) {
		 this.element(element);
		 },
		 errorClass: 'error_validate',
		 errorElement:'span',
		 highlight: function(element, errorClass) {
		 $(element).removeClass(errorClass);
		 },
		 submitHandler:function(form)
			{
			  $('#form_additional_info_btn').attr('disabled',true);
			  form.submit();
			}
		 });
</script> -->

<script>
	$(document).ready( function () {
    $('#myTable').DataTable();
} );
	$(document).ready( function () {
    $('#myTable2').DataTable();
} );
		$(document).ready( function () {
    $('#myTable3').DataTable();
} );
			$(document).ready( function () {
    $('#myTable4').DataTable();
} );
				$(document).ready( function () {
    $('#myTable5').DataTable();
} );
</script>
        <script>
    $('.digit-group').find('input').each(function() {
    $(this).attr('maxlength', 1);
    $(this).on('keyup', function(e) {
        var parent = $($(this).parent());
        
        if(e.keyCode === 8 || e.keyCode === 37) {
            var prev = parent.find('input#' + $(this).data('previous'));
            
            if(prev.length) {
                $(prev).select();
            }
        } else if((e.keyCode >= 48 && e.keyCode <= 57) || (e.keyCode >= 65 && e.keyCode <= 90) || (e.keyCode >= 96 && e.keyCode <= 105) || e.keyCode === 39) {
            var next = parent.find('input#' + $(this).data('next'));
            
            if(next.length) {
                $(next).select();
            } else {
                if(parent.data('autosubmit')) {
                    parent.submit();
                }
            }
        }
    });
});
</script>

<script>
	 $(document).on('click', '.browse', function(){
    var file = $(this).parent().parent().parent().find('.file');
    file.trigger('click');
  });
  $(document).on('change', '.file', function(){
    $(this).parent().find('.form-control').val($(this).val().replace(/C:\\fakepath\\/i,''));
  }); 
</script>

 <script>
 	jQuery(document).ready(function($){


 		$('.signature-data').each(function(){

 			var canvas_id=$(this).attr('id');

 			 var canvas = document.getElementById(canvas_id);
			    var signaturePad = new SignaturePad(canvas);
			    
			    $('#clear-signature').on('click', function(){
			        signaturePad.clear();
			    });

 			});
    
   
    
});
 </script>

 <script type="text/javascript">

  var getVerifierID ;
   $(document).on('click', '.menu-for-id a', function() {
	   $(this).parent().parent().find("button").html($(this).html()); 
	   getVerifierID = $(this).find(".getId").attr("value");
   });

   var getIndivVerifierID ;
   $(document).on('click', '.menu-for-id-indiv a', function() {
	    $(this).parent().parent().find("button").html($(this).html()); 
	   	getIndivVerifierID = $(this).find(".getId").attr("value");
   });

   var getCheckedVerifierID ;
   $(document).on('click', '.menu-for-id-checked a', function() {
		$(this).parent().parent().find("button").html($(this).html()); 
		getCheckedVerifierID = $(this).find(".getId").attr("value");
   });

</script>


<script>
	$(document).on('click.bs.dropdown.data-api', '.dropdown.keep-inside-clicks-open', function (e) {
	  e.stopPropagation();
	});
</script>

<script>
var reflect_id = $('#reflect_id').val();
		function downloadPersonal(){
			html2canvas(document.getElementById('personalcontent')).then(function(canvas) {
			var img = canvas.toDataURL("image/png");
			var doc = new jsPDF();
			doc.text(5,10, "MY REFLECT ID"+" "+reflect_id);
			doc.addImage(img,'JPEG',-20,15);
			doc.save('Personal-info.pdf');
			});
		  }
		</script>
		<script>
		var reflect_id = $('#reflect_id').val();
		function downloadAdditional(){
			html2canvas(document.getElementById('additionalcontent')).then(function(canvas) {
			var img = canvas.toDataURL("image/png");
			var doc = new jsPDF();
			doc.text(5,10, "MY REFLECT ID"+" "+reflect_id);
			doc.addImage(img,'JPEG',-20,15);
			doc.save('Additional-info.pdf');
			});
		  }
		</script>
		<script>
		var reflect_id = $('#reflect_id').val();
		function downloaddoclist(){
			html2canvas(document.getElementById('myTabContent')).then(function(canvas) {
			var img = canvas.toDataURL("image/png");
			var doc = new jsPDF();
			doc.text(2,5, "MY REFLECT ID"+" "+reflect_id);
			doc.addImage(img,'JPEG',-10,10);
			doc.save('doc-list.pdf');
			});
		  }
		</script>
		
		<script>
			var reflect_id = $('#reflect_id').val();
			function downloaddoccertified(){
				html2canvas(document.getElementById('myTabContent')).then(function(canvas) {
				var img = canvas.toDataURL("image/png");
				var doc = new jsPDF();
				doc.text(2,5, "MY REFLECT ID"+" "+reflect_id);
				doc.addImage(img,'JPEG',-10,10);
				doc.save('certified-doc-list.pdf');
				});
			  }
			</script>
			<script>
				var reflect_id = $('#reflect_id').val();
				function downloaddocattested(){
					html2canvas(document.getElementById('myTabContent')).then(function(canvas) {
					var img = canvas.toDataURL("image/png");
					var doc = new jsPDF();
					doc.text(2,5, "MY REFLECT ID"+" "+reflect_id);
					doc.addImage(img,'JPEG',-10,10);
					doc.save('attested-doc-list.pdf');
					});
				  }
				</script>
<script>
var reflect_id = $('#reflect_id').val();
function printdiv(){
	
  var restorepage = $('body').html();
    $('.nodata').hide();
   var printcontent = $('#personalcontent').clone();
   $('body').empty().html(printcontent);
   window.print();
   $('body').html(restorepage);
 

}

</script>
<script>
		var reflect_id = $('#reflect_id').val();
		function printadditional(){
			
		  var restorepage = $('body').html();
			$('.nodata').hide();
		   var printcontent = $('#additionalcontent').clone();
		   $('body').empty().html(printcontent);
		   window.print();
		   $('body').html(restorepage);
		 
		
		}
		
		</script>
<script>
		var reflect_id = $('#reflect_id').val();
		function printtab(){
			
		  var restorepage = $('body').html();
			$('.nodata').hide();
		   var printcontent = $('#myTabContent').clone();
		   $('body').empty().html(printcontent);
		   window.print();
		   $('body').html(restorepage);
		 
		
		}
		
		</script>		
 <script>
    $("#datepicker").datepicker();
    $("#datepicker1").datepicker();
    $("#datepicker2").datepicker();
 </script>

 <script>
	 function capitalize(str) {
  strVal = '';
  str = str.split(' ');
  for (var chr = 0; chr < str.length; chr++) {
    strVal += str[chr].substring(0, 1).toUpperCase() + str[chr].substring(1, str[chr].length) + ' '
  }
  return strVal
}
function getVerifierList(){ 

	$.ajax({
			type: "get",
			url: "/get-verifier-list",
			data:{},
			success: function (data) {
				console.log(data);  
				for(var i=0;i<data.length;i++){ 
					if($(`#anchor${i}`).text()!=""){

					}
					else{
						
						var firstname = capitalize(data[i].rep_firstname);
				        $('#verifierDropdown').append(`<a class="dropdown-item" id="anchor${i}" onclick="get_category(${data[i].reflect_id})" href="javascript:void(0)">
									    	<div class="for-verify-box-inner for-pending">
		 							    		<i class="fas fa-check"></i>
									    		<span class="user-img-verify">
														<img src="admin-assets/images/faces/face1.jpg" alt="image">
									    		</span>
												<span class="tooltip fade" data-title="On boarding Pending">
													<input type="hidden" class="getId" id="verifier_id${i}" value="${data[i].reg_user_id}-${data[i].reflect_id}">
									    			${firstname}-${data[i].reflect_code}
									    			<img class="info-icon" src="../assets/images/icons/dashboard-assets/info-icon.png">
									    		</span>
									    	</div>
										</a>`)
						$('#set-all-permission-Modal').show();
					}					
				}
            }
		});
}

function get_category(cat_val){
	// alert(cat_val);
	if(cat_val!=""){
		$.ajax({
			type: "post",
			url: "/get-category-list",
			data:{reflect_id:cat_val},
			success: function (data) {
				console.log(data);  
				$('#category_list').html(data);
            }
		});
	}else{
				$('#category_list').html("");
	}
}

function get_sub_category(sub_cat_val){
	alert(sub_cat_val);
	if(sub_cat_val!=""){
		$.ajax({
			type: "post",
			url: "/get-sub-category-list",
			data:{category_id:sub_cat_val},
			success: function (data) {
				console.log(data);  
				$('#sub_category_list').html(data);
            }
		});
	}else{
				$('#sub_category_list').html("");
	}
}

function get_requested_doc(category_id){
   alert(category_id);
   if(category_id!=""){
		$.ajax({
			type: "post",
			url: "/get-requested-doc",
			data:{category_id:category_id},
			success: function (data) {
				console.log(data);  
				$('#category_docs').html(data);
            }
		});
	}else{
				$('#category_docs').html("");
	}
}

function verifier_for_indivi(ind_val){
	$.ajax({
			type: "get",
			url: "/get-verifier-list",
			data:{},
			success: function (data) {
				console.log(data);
				for(var i=0;i<data.length;i++){ 
					if($(`#anchor_indiv${i}`).text()!=""){

					}else{
						// alert('#indivi_verify_div'+ind_val); 
						var firstname = capitalize(data[i].rep_firstname);
				        $('#indivi_verify_div'+ind_val).append(`<a class="dropdown-item" id="anchor_indiv${ind_val}${i}" href="javascript:void(0)">
									    	<div class="for-verify-box-inner for-pending">
									    		<i class="fas fa-check"></i>
									    		<span class="user-img-verify">
									    			<img src="admin-assets/images/faces/face1.jpg">
							 		    		</span>
												<span class="tooltip fade" data-title="On boarding Pending">
													<input type="hidden" class="getId" id="indi_verifier_id${ind_val}${i}" value="${data[i].reg_user_id}-${data[i].reflect_id}">
									    			${firstname}-${data[i].reflect_code}
									    			<img class="info-icon" src="../assets/images/icons/dashboard-assets/info-icon.png">
									    		</span>
									    	</div>
										</a>`)
					}					
				}
				$('#set-docs-permission-Modal'+ind_val).show();
            }
		});
}

</script>

<script>
	function get_check_doc(value){
        // alert(value);
		var user_doc_id = $(`#doc_check${value}`).val();
		var trow = $(`#docRow${value}`).text();
		// alert(user_doc_id);
		// console.log("user_doc_id",user_doc_id);
		if(trow!=""){
			$(`#docRow${value}`).remove();
		}else{
        $.ajax({
			type: "post",
			url: "/get-checked-doc",
			data:{user_doc_id:user_doc_id},
			success: function (data) {
			
				$('#doc_data').append(`<tr id="docRow${value}">
								      <th scope="row">
								      	<div class="for-flex-align">
								      		 <img src="../assets/images/icons/dashboard-assets/drivinglicense.png">
											   ${data[0].document_name}
											   <input type="hidden" id="docIdRow" value="${data[0].user_doc_id}">
								      	</div>
								      </th>
								      <td>
								      	<div class="checkbox">
								          <label>
								            <input type="checkbox" name="downloadPerm" id="downloadPerm" value="${data[0].user_doc_id}">
								            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
								          </label>
								        </div>
								      </td>
								      <td>
								      	<div class="checkbox">
								          <label>
								            <input type="checkbox" name="viewPerm" id="viewPerm" value="${data[0].user_doc_id}">
								            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
								          </label>
								        </div>
								      </td>
								      <td>
								      	<div class="checkbox">
								          <label>
								            <input type="checkbox" name="certifyPerm" id="certifyPerm" value="${data[0].user_doc_id}">
								            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
								          </label>
								        </div>
								      </td>
								    </tr>`);
			}
		});
	}
	}
</script>

<script>
	var rowCount;
	var rowVal=[];
	var download = [];
	var view = [];
	var certify = [];

function submit_all_perm(){

	if(getVerifierID!="" || getVerifierID!=undefined){
	//  alert(getVerifierID);
	 
	rowCount = $('table#myTable tr:last').index() + 1;
	//  alert(rowCount);

	var reflect_id = $('#doc_reflect_id').val();
	

	if(rowCount>0)
	{

		if($('input[name="doc_check"]:checked')){
	   	$('#doc_data tr').each(function(index) {
	   		var hidden_val=$(this).find('input[type="hidden"]').val();

	   		rowVal.push(hidden_val);


			   var down_val=$(this).find('input[name="downloadPerm"]:checked').val();
			   var view_val = $(this).find('input[name="viewPerm"]:checked').val();
			   var certify_val = $(this).find('input[name="certifyPerm"]:checked').val();

	   		if(down_val==undefined)
	   		{
	   			var dwn_per='no';
	   		}
	   		else
	   		{
	   		   var dwn_per='yes';	
			}
			if(view_val==undefined)
	   		{
	   			var vw_per='no';
	   		}
	   		else
	   		{
	   		   var vw_per='yes';	
			}
			   if(certify_val==undefined)
	   		{
	   			var crt_per='no';
	   		}
	   		else
	   		{
	   		   var crt_per='yes';	
	   		}
			   

	   		download.push(dwn_per);
			view.push(vw_per);
			certify.push(crt_per)
	   	});
		   $('#subPerm').attr('data-toggle', 'modal');
			$('#subPerm').attr('data-target', '#doc-permission-Modal'); 
			$('#subPerm').attr('data-dismiss', 'modal');
	}else if(rowCount<=0){
		$('#prm_error_span').html("Please select atleast one document.");
	}
}
}else{
	$('#prm_error_span').html("Please select verifier.");
}
	
	
		
}



function pin_for_prm(){
	// alert("hellllllllllllll0000");
var otp1=$('#otp1').val();
var otp2=$('#otp2').val();
var otp3=$('#otp3').val();
var otp4=$('#otp4').val();
var otp = otp1+""+otp2+""+otp3+""+otp4;
if(otp1=="" || otp1=="" || otp1=="" || otp1==""){
 $('#req_err_prm').html("Please enter valid Pin.");
}else{
// alert(otp);
$('#req_err_prm').html("");
	$.ajax({
			type: "post",
			url: "/request-check-pin",
			data:{pin:otp},
			success: function (data) {
				// alert(data);
				if(data.success_data){
                    $('#req_err_prm').html('');
					// alert(data);
					submit_permission();
				}else{
                    $('#req_err_prm').html('Please enter valid Pin');
				}
			}
	})
}
}

function submit_permission(){

	// alert("hiiii");
var reflect_id = $('#doc_reflect_id').val();
var vrfr = getVerifierID.split('-');
	 var vId = vrfr[0];
	 var vRefId = vrfr[1];
	//  alert("vrfr "+vrfr);
	//  alert("vId "+vId);
	//  alert("vRefId "+vRefId);
$.ajax({
    type: "post",
	url:"/request-doc",
	data:{reflect_id:reflect_id,
		download:JSON.stringify(download),
		view:JSON.stringify(view),
		certify:JSON.stringify(certify),
		total_doc:JSON.stringify(rowVal),
		verifier_id:vId,
		verifier_reflect_id:vRefId,
		rowCount:rowCount
    },
    success:function(datas) {
        // alert("[[[[[[[[[[[[[[["+datas);
		
		$('#validate-pin-Modal').modal('hide');
		
		$('#dsuccess-doc-Modal').modal('show');
	}
});

}

// var rowCount;
// 	var indrowVal=[];
// 	var inddownload = [];
// 	var indview = [];
// 	var indcertify = [];

// function submit_all_perm(indiv_val){

// 	if(getVerifierID!="" || getVerifierID!=undefined){
// 	//  alert(getVerifierID);
	 
// 	rowCount = $('table#myTable tr:last').index() + 1;
// 	//  alert(rowCount);

// 	var reflect_id = $('#doc_reflect_id').val();
	

// 	if(rowCount>0)
// 	{

// 		if($('input[name="doc_check"]:checked')){
// 	   	$('#doc_data tr').each(function(index) {
// 	   		var hidden_val=$(this).find('input[type="hidden"]').val();

// 	   		rowVal.push(hidden_val);


// 			   var down_val=$(this).find('input[name="downloadPerm"]:checked').val();
// 			   var view_val = $(this).find('input[name="viewPerm"]:checked').val();
// 			   var certify_val = $(this).find('input[name="certifyPerm"]:checked').val();

// 	   		if(down_val==undefined)
// 	   		{
// 	   			var dwn_per='no';
// 	   		}
// 	   		else
// 	   		{
// 	   		   var dwn_per='yes';	
// 			}
// 			if(view_val==undefined)
// 	   		{
// 	   			var vw_per='no';
// 	   		}
// 	   		else
// 	   		{
// 	   		   var vw_per='yes';	
// 			}
// 			   if(certify_val==undefined)
// 	   		{
// 	   			var crt_per='no';
// 	   		}
// 	   		else
// 	   		{
// 	   		   var crt_per='yes';	
// 	   		}
			   

// 	   		download.push(dwn_per);
// 			view.push(vw_per);
// 			certify.push(crt_per)
// 	   	});
// 		   $('#subPerm').attr('data-toggle', 'modal');
// 			$('#subPerm').attr('data-target', '#doc-permission-Modal'); 
// 			$('#subPerm').attr('data-dismiss', 'modal');
// 	}else if(rowCount<=0){
// 		$('#prm_error_span').html("Please select atleast one document.");
// 	}
// }
// }else{
// 	$('#prm_error_span').html("Please select verifier.");
// }
	
	
		
// }

function indiv_pin_for_prm(indiv_val){
	// alert("hellllllllllllll0000");
var otp1=$('#op1'+indiv_val).val();
var otp2=$('#op2'+indiv_val).val();
var otp3=$('#op3'+indiv_val).val();
var otp4=$('#op4'+indiv_val).val();
var otp = otp1+""+otp2+""+otp3+""+otp4;
if(otp1=="" || otp1=="" || otp1=="" || otp1==""){
 $('#req_err_prm_indiv'+indiv_val).html("Please enter valid Pin.");
}else{
// alert(otp);
$('#req_err_prm_indiv'+indiv_val).html("");
	$.ajax({
			type: "post",
			url: "/request-check-pin",
			data:{pin:otp},
			success: function (data) {
				// alert(data);
				if(data.success_data){
                    $('#req_err_prm_indiv'+indiv_val).html('');
					// alert(data);
					submit_indiv_perm(indiv_val);
				}else{
                    $('#req_err_prm_indiv'+indiv_val).html('Please enter valid Pin');
				}
			}
	})
}
}

function submit_indiv_perm(div_value){
	var indiv_reflect_id = $('#indiv_reflect_id').val();
	var doc_id = $('#docIdIndividual'+div_value).val();
	var msg = $('#msg_textArea'+div_value).val();
	// alert(msg);
	var in_download;
	var in_view;
	var in_certify;
	if($(`input[name="indiv_down${div_value}"]:checked`).val()=="yes"){
		in_download="yes";
	}else{
		in_download="no";
	}
	if($(`input[name="indiv_view${div_value}"]:checked`).val()=="yes"){
		in_view="yes";
	}else{
		in_view="no";
	}
	if($(`input[name="indiv_certify${div_value}"]:checked`).val()=="yes"){
		in_certify="yes";
	}else{
		in_certify="no";
	}

	// alert(in_download+" "+in_view+" "+in_certify);
	 if(getIndivVerifierID!=undefined){
		$('#indiv_error'+div_value).html("");
		var vrfr = getIndivVerifierID.split('-');
	    var vId = vrfr[0];
		var vRefId = vrfr[1];
	// alert(msg);
		
	$.ajax({
		type: "post",
		url:"/request-doc-individual",
		data:{reflect_id:indiv_reflect_id,
			download:in_download,
			view:in_view,
			certify:in_certify,
			verifier_id:vId,
			verifier_reflect_id:vRefId,
			doc_id:doc_id,
			msg:msg
		},
		success:function(indivdata) {
			// alert(indivdata);
			
			$('#set-docs-permission-Modal'+div_value).modal('hide');
			$('#dsuccess-doc-Modal').modal('show');
			// $('#dsuccess-doc-Modal').modal('show');
		}
	});
    }else{
		$('#indiv_error'+div_value).html("Please select verifier.");
	}
}

function submit_signature(sign_val)
 {
	
 	var signature=$(`#signature${sign_val}`).get(0);
 	var signature_url=signature.toDataURL();
    //  alert(signature);
 	if(signature_url)
 	{
		 var can_val =isCanvasBlank(signature);
		//  alert(can_val);
		if(can_val!=true){
		    $('#canvas_error').html("");
			var blob_url=signature_url;
			var user_doc_id = $('#attested_doc_id'+sign_val).val();
			$.ajax({
				type:"post",
				url:"/self-attested",
				data:{attested_doc_id:user_doc_id,blob_url:blob_url},
				success:function(data) {
					location.reload();
				}
			});

 	    }else{
		    $('#canvas_error').html("Please sign first.");
	    }

	}

 	
}
function isCanvasBlank(canvas) {
  return !canvas.getContext('2d')
    .getImageData(0, 0, canvas.width, canvas.height).data
    .some(channel => channel !== 0);
}
function dataURItoBlob(dataURI) {
		// alert("in");
		console.log("canvas",dataURI);
 // convert base64 to raw binary data held in a string
 // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this
 var byteString = atob(dataURI.split(',')[1]);

 // separate out the mime component
 var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]

 // write the bytes of the string to an ArrayBuffer
 var ab = new ArrayBuffer(byteString.length);

 // create a view into the buffer
 var ia = new Uint8Array(ab);

 // set the bytes of the buffer to the correct values
 for (var i = 0; i < byteString.length; i++) {
     ia[i] = byteString.charCodeAt(i);
 }

 // write the ArrayBuffer to a blob, and you're done
 var blob = new Blob([ab], {type: mimeString});
 return blob;

}
// }

</script>

<script>
	var docs =[];
function verifier_for_checked(){
	// var check_count = $('.mycxk').filter('input[name="all_doc_check"]').length;
	// alert($('.mycxk').filter('input[name="all_doc_check"]').length);
	var check_val = [];
		$.each($("input[name='all_doc_check']:checked"), function(){
			check_val.push($(this).val());
            });
	// alert(check_val);
	
	$.ajax({
			type: "post",
			url: "/verifier-doc-checked",
			data:{doc_ids:JSON.stringify(check_val)},
			success: function (data) {
				console.log(data);
				var verifier = data.verifiers;
				// var docs =[];
				docs = data.doc_array;
				// alert(getCheckedVerifierID);
				for(var i=0;i<verifier.length;i++){ 
					// alert(verifier[i])
					if($(`#anchor_checked${i}`).text()!=""){

					}
					else{
						var firstname = capitalize(verifier[i].rep_firstname);
				        $('#checked_verify_div').append(`<a class="dropdown-item" id="anchor_checked${i}" href="javascript:void(0)">
									    	<div class="for-verify-box-inner for-pending">
									    		<i class="fas fa-check"></i>
									    		<span class="user-img-verify">
													<img src="admin-assets/images/faces/face1.jpg" alt="image">
									    		</span>
												<span class="tooltip fade" data-title="On boarding Pending">
													<input type="hidden" class="getId" id="checked_verifier_id${i}" value="${verifier[i].reg_user_id}">
									    			${firstname}-${verifier[i].reflect_code}
									    			<img class="info-icon" src="../assets/images/icons/dashboard-assets/info-icon.png">
									    		</span>
									    	</div>
										</a>`
						)
					}					
				}
					for(var j=0;j<docs.length;j++){
					var checkedtrow = $(`#checkdocRow${j}`).text();
					if(checkedtrow!=""){
			        //   $(`#checkdocRow${j}`).remove();
					}else{
					$('#checked_doc_data').append(`<tr id="checkdocRow${j}">
								      <th scope="row">
								      	<div class="for-flex-align">
								      		 <img src="../assets/images/icons/dashboard-assets/drivinglicense.png">
											   ${docs[j][0].document_name}
											   <input type="hidden" id="docIdRow" value="${docs[j][0].user_doc_id}">
								      	</div>
								      </th>
								      <td>
								      	<div class="checkbox">
								          <label>
								            <input type="checkbox" name="checkdownloadPerm" id="checkdownloadPerm" value="${docs[j][0].user_doc_id}">
								            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
								          </label>
								        </div>
								      </td>
								      <td>
								      	<div class="checkbox">
								          <label>
								            <input type="checkbox" name="checkviewPerm" id="checkviewPerm" value="${docs[j][0].user_doc_id}">
								            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
								          </label>
								        </div>
								      </td>
								      <td>
								      	<div class="checkbox">
								          <label>
								            <input type="checkbox" name="checkcertifyPerm" id="checkcertifyPerm" value="${docs[j][0].user_doc_id}">
								            <span class="cr"><i class="cr-icon fa fa-check"></i></span>
								          </label>
								        </div>
								      </td>
								    </tr>`);
				}
			}
			$('#set-all-checked-permission-Modal').show();
			}
		});
	

}
var rowCount;
	var checkrowVal=[];
	var checkdownload = [];
	var checkview = [];
	var checkcertify = [];

function submit_all_checked_perm(){

	if(getCheckedVerifierID!="" || getCheckedVerifierID!=undefined){
    //  alert(getCheckedVerifierID);
	rowCount = $('table#myCheckTable tr:last').index() + 1;
	//  alert(rowCount);

	var reflect_id = $('#check_doc_reflect_id').val();
	
 
	if(rowCount>0)
	{

		// if($('input[name="checked_doc_data"]:checked')){
	   	$('#checked_doc_data tr').each(function(index) {
	   		var hidden_val=$(this).find('input[type="hidden"]').val();
            docs.forEach(function(doc) {
				if(doc==hidden_val){
				checkrowVal.push(hidden_val);


			   var down_val=$(this).find('input[name="checkdownloadPerm"]:checked').val();
			   var view_val = $(this).find('input[name="checkviewPerm"]:checked').val();
			   var certify_val = $(this).find('input[name="checkcertifyPerm"]:checked').val();

	   		if(down_val==undefined)
	   		{
	   			var dwn_per='no';
	   		}
	   		else
	   		{
	   		   var dwn_per='yes';	
			}
			if(view_val==undefined)
	   		{
	   			var vw_per='no';
	   		}
	   		else
	   		{
	   		   var vw_per='yes';	
			}
			   if(certify_val==undefined)
	   		{
	   			var crt_per='no';
	   		}
	   		else
	   		{
	   		   var crt_per='yes';	
	   		}
			   

	   		checkdownload.push(dwn_per);
			checkview.push(vw_per);
			checkcertify.push(crt_per)
		    }
			})
	   		
	   	});
		   $('#checkSubPerm').attr('data-toggle', 'modal');
			$('#checkSubPerm').attr('data-target', '#doc-check-permission-Modal'); 
			$('#checkSubPerm').attr('data-dismiss', 'modal');
	// }else if(rowCount<0){
	// 	$('#check_prm_error_span').html("Please select atleast one document.");
	// }
}
}else{
	$('#check_prm_error_span').html("Please select verifier.");
}		
}

function pin_for_check_prm(){
	// alert("hellllllllllllll0000");
var otp1=$('#o1').val();
var otp2=$('#o2').val();
var otp3=$('#o3').val();
var otp4=$('#o4').val();
var otp = otp1+""+otp2+""+otp3+""+otp4;
if(otp1=="" || otp1=="" || otp1=="" || otp1==""){
 $('#req_err_prm_check').html("Please enter valid Pin.");
}else{
// alert(otp);
$('#req_err_prm_check').html("");
	$.ajax({
			type: "post",
			url: "/request-check-pin",
			data:{pin:otp},
			success: function (data) {
				// alert(data);
				if(data.success_data){
                    $('#req_err_prm_check').html('');
					// alert("data");
					submit_check_permission();
				}else{
                    $('#req_err_prm_check').html('Please enter valid Pin');
				}
			}
	})
}
}

function submit_check_permission(){

// alert("hiiii"+docs);
console.log("docs",docs);
var reflect_id = $('#check_doc_reflect_id').val();
$.ajax({
type: "post",
url:"/request-doc-checked",
data:{reflect_id:reflect_id,
	download:JSON.stringify(checkdownload),
	view:JSON.stringify(checkview),
	certify:JSON.stringify(checkcertify),
	total_doc:JSON.stringify(docs),
	verifier_id:getCheckedVerifierID
},
success:function(datas) {
	// alert("[[[[[[[[[[[[[[["+datas);
	
	$('#validate-pin-check-Modal').modal('hide');
	
	$('#dsuccess-doc-Modal').modal('show');
}
});

}
</script>

<script>
	$('.check_type').change(
			function () {
			

			   var file_check = $('#staff_image').val();
			   console.log($('#staff_image').val());
			   console.log($('#staff_image'));
			// var file_check = document.getElementById('staff_image').value;
			   alert(file_check);
			   $('input[id=image_dis]').attr("disabled",true);
			   $('input[id=video_dis]').attr("enabled",true);
			//    alert('file_check')

				
				

				var fileExtension = ['png','jpeg','jpg'];
				var fileExtension_1 = ['mp4'];
				
				var type=$(this).val().split('.').pop().toLowerCase()
		   
				alert(type)


				if (type=='jpg'||type=='png'||type=='jpeg') {
					alert('true 1')

					$('#image_dis').attr('checked', true);

					$('input[id=video_dis]').attr("disabled",true);

					return true;

				   
				}
				

				else if(type=='mp4'){

					alert('true 2') 

					$('#video_dis').attr('checked', true);

					$('input[id=image_dis]').attr("disabled",true);

					return true;
				}
			
				else
				{
					alert('plz select image or video');
					$('input[id=video_dis]').attr("disabled",true);
                        $('input[id=image_dis]').attr("disabled",true);

					return false;

				}


			});
</script>	

<script>
    function show_doc_img(img_val){
		var img = $('#img_tag'+img_val).attr('src');
		// alert(img_val);
		// alert(img);
        if(img!=""){
			$('#img_modal').html("");
            $('#img_modal').html(`<img src="${img}" class="img-fluid">`);
			$('#doc-img-Modal').show();

		}
	}

	function show_doc_vid(vid_val){
		var vid = $('#vid_tag'+vid_val).attr('src');
		// alert(img);
        if(vid!=""){
			$('#img_modal').html("");
            $('#img_modal').html(`<video id="vid_modal" width="400" height="400" controls>
					
				<source src="${vid}" type="video/mp4"></video>`);
			$('#doc-img-Modal').show();

		}
	}
</script>