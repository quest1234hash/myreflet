<%- include('../innerHeader') %>
<style>

.tooltip {
  position: relative;
  display: inline-block;
}

.tooltip .tooltiptext {
  visibility: hidden;
  width: 140px;
  background-color: #555;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 5px;
  position: absolute;
  z-index: 1;
  bottom: 150%;
  left: 50%;
  margin-left: -75px;
  opacity: 0;
  transition: opacity 0.3s;
}

.tooltip .tooltiptext::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: #555 transparent transparent transparent;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
  opacity: 1;
}




    .client-dash-sec .wallet-box{
        position: relative;
        
    }
    
    .balance-value.alert.alert-warning {
        padding: 2px 10px;
        border-radius: 5px !important;
        color: #fff;
        position: absolute;
        right: 0;
        top: -16px;
    }
    .alert-warning {
        color: #856404;
        background-color: #28a745  !important;
        border-color: #28a745  !important;
    }
    
    .balance-value2.alert.alert-warning2 {
        padding: 3px 10px;
        border-radius: 5px !important;
        color: #fff;
        position: absolute;
        right: 0;
        top: -16px;
    }
    .alert-warning2 {
        color: #856404;
        background-color: #f2081e  !important;
        border-color: #f2081e  !important;
    }
    
    </style>
    
    <section class="heading-sec">
        <div class="container">
            <div class="row align-item-center">
                <div class="col-md-12">
                    <div>
    
                        <ul class="nav nav-tabs dashboard-tabs-outer" id="myTab" role="tablist">
                          <li class="nav-item">
                            <a class="nav-link active" id="dash-tab" data-toggle="tab" href="#dashtab1" role="tab" aria-controls="home" aria-selected="true">
                            <span>
                                <img class="gray" src="../assets/images/icons/home-assets/wallet.png">
                                <img class="purple" src="../assets/images/icons/home-assets/wallet-white.png">
                            </span> 	
                            Digital Wallet</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link" id="dash-tab" data-toggle="tab" href="#dashtab2" role="tab" aria-controls="profile" aria-selected="false">
                            <span>
                                <img class="gray" src="../assets/images/icons/home-assets/wallet.png">
                                <img class="purple" src="../assets/images/icons/home-assets/wallet-white.png">
                            </span> 
                            Crypto Wallet
                            </a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link" id="dash-tab" data-toggle="tab" href="#dashtab3" role="tab" aria-controls="contact" aria-selected="false">
                            <span>
                                <img class="gray" src="../assets/images/icons/home-assets/wallet.png">
                                <img class="purple" src="../assets/images/icons/home-assets/wallet-white.png">
                            </span> 
                            MyReflet Wallet</a>
                          </li>
                        </ul>
                    </div>
                </div>
    
                <div class="col-md-12"> 
                    <div class="white-box client-dash-sec">
                        <div class="tab-content" id="myTabContent">
                            <!-- digital wallets -->
                          <div class="tab-pane fade show active" id="dashtab1" role="tabpanel" aria-labelledby="dash-tab">
                             <% if(digitalArr.length>0){  %>
                            <div class="row">
                                <%  for(let i=0;i<digitalArr.length;i++){  %>
                                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                    <div class="white-box full-box wallet-box">
                                        <div class="row align-item-center">
                                           <div class="col-xl-6 col-lg-12 col-md-12">
    
                                           </div>
                                           
                                               <% if(digitalArr[i].isLinked=='yes'){ %>
                                                <div class="col-xl-12 col-lg-12 col-md-12 text-right">
                                                <label class="mb-0 balance-value ml-auto alert alert-warning" >Linked</label>
                                            </div>
                                                <% }else{ %>
                                                    <div class="col-xl-12 col-lg-12 col-md-12 text-right">
                                                        <label class="mb-0 balance-value2 ml-auto alert alert-warning2" >Not Linked</label>
                                                </div>
                                                    <%  }%>
                                        
                                        </div>
                                        <div>
                                        <div class="row inner-box-id-code">
                                                <div class="col-md-4 p-0">
                                                    <div class="for-flex-align">
                                                        <img src="../assets/images/icons/home-assets/user.png">
                                                        <p>Wallet ID</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 dubble-dot-after p-0">
                                                    <p><%= digitalArr[i].walletId %></p>
                                                </div>
                                            </div>
                                            <div class="private-key-copy-box mt-15">
                                                <div class="form-group">
                                                    <label>Public key</label>
                                                    <div class="input-group mb-3">
                                                        <input type="text" class="form-control" value="<%= digitalArr[i].walletAddress %>" id="wallet_addr<%=i %>" readonly>
													  <div class="input-group-append">
														<span class="tooltip">
														  <a class="btn-copy" href="javascript:void(0);"  onclick="myFunction1('<%=i %>')" onmouseout="outFunc('<%=i %>')"><img src="../assets/images/icons/createidentity-assets/copy.png">
															<span class="tooltiptext" id="myTooltip<%=i%>">Copy to clipboard</span>
														</a>
														</span>
													  </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row inner-box-id-code">
                                                <div class="col-md-4 p-0">
                                                    <div class="for-flex-align">
                                                        <img src="../assets/images/icons/home-assets/user.png">
                                                        <p>MyReflet ID</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 dubble-dot-after p-0">
                                                    <p><%= digitalArr[i].refletid %></p>
                                                </div>
                                            </div>
                                            <div class="row inner-box-id-code">
                                                <div class="col-md-4 p-0">
                                                    <div class="for-flex-align">
                                                        <img src="../assets/images/icons/wallet/ethereum.svg">
                                                        <p>ETH Balance</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 dubble-dot-after p-0">
                                                    <p>0 ETH</p>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                                <a href="get_trans_history" onclick="location.href=this.href+'?wallet_type='+ `<%=encrypt(digitalArr[i].wallet_type) %>`+'&wallet_id='+`<%=encrypt(digitalArr[i].walletId) %>`;
                                                    return false" class="btn-common-new"  style="padding: 4px 9px 3px 9px;"><i class="fas fa-eye"></i></a>
                                                </div>
                                         </div>
                                    </div>
                                </div>

                                <% } %>
                              
                             </div>
                             <% } %>
 
                            
                             
                          </div>

                          <!-- crypto wallets -->
                          <div class="tab-pane fade" id="dashtab2" role="tabpanel" aria-labelledby="dash-tab">
                              <% if(cryptoWallet.length>0){  %>
                            <div class="row">
                                <% var k=1356;  %>
                                <% for(let i=0;i<cryptoWallet.length; i++){  %>
                                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                    <div class="white-box full-box wallet-box">
                                        <div class="row align-item-center">
                                           <div class="col-xl-6 col-lg-12 col-md-12">
                                           </div>
                                           <% if(cryptoWallet[i].isLinked=='yes'){  %>
                                           <div class="col-xl-12 col-lg-12 col-md-12 text-right">
                                            <label class="mb-0 balance-value ml-auto alert alert-warning" >Linked</label>
                                           </div>
                                           <% }else{ %>
                                            <div class="col-xl-12 col-lg-12 col-md-12 text-right">
                                                <label class="mb-0 balance-value2 ml-auto alert alert-warning2" >Not Linked</label>
                                           </div>
                                            <% } %>
                                        </div>
                                        <div>
                                        <div class="row inner-box-id-code">
                                                <div class="col-md-4 p-0">
                                                    <div class="for-flex-align">
                                                        <img src="../assets/images/icons/home-assets/user.png">
                                                        <p>Wallet ID</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 dubble-dot-after p-0">
                                                    <p><%= cryptoWallet[i].walletId %></p>
                                                </div>
                                            </div>
                                            <div class="private-key-copy-box mt-15">
                                                <div class="form-group">
                                                    <label>Public key</label>
                                                    <div class="input-group mb-3">
                                                        <input type="text" class="form-control" value="<%= cryptoWallet[i].walletAddress %>" id="wallet_addr<%=k %>" readonly>
                                                        <div class="input-group-append">
                                                          <span class="tooltip">
                                                            <a class="btn-copy" href="javascript:void(0);"  onclick="myFunction1('<%=k %>')" onmouseout="outFunc('<%=k %>')"><img src="../assets/images/icons/createidentity-assets/copy.png">
                                                              <span class="tooltiptext" id="myTooltip<%=k%>">Copy to clipboard</span>
                                                          </a>
                                                          </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row inner-box-id-code">
                                                <div class="col-md-4 p-0">
                                                    <div class="for-flex-align">
                                                        <img src="../assets/images/icons/home-assets/user.png">
                                                        <p>MyReflet ID</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 dubble-dot-after p-0">
                                                    <p><%= cryptoWallet[i].refletid %></p>
                                                </div>
                                            </div>
                                            <div class="row inner-box-id-code">
                                                <div class="col-md-4 p-0">
                                                    <div class="for-flex-align">
                                                        <% if(cryptoWallet[i].wallet_type=='BTC') {%>
                                                            <img src="../assets/images/icons/wallet/bitcoin.svg">
                                                            <% }else{ %>
                                                                <img src="../assets/images/icons/wallet/ethereum.svg">
                                                                <% } %>
                                                        <p>Balance</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 dubble-dot-after p-0">
                                                    <p><%= cryptoWallet[i].balance %></p>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                                <a href="get_trans_history" onclick="location.href=this.href+'?wallet_type='+ `<%=encrypt(cryptoWallet[i].wallet_type) %>`+'&wallet_id='+`<%=encrypt(cryptoWallet[i].walletId) %>`;
                                                    return false" class="btn-common-new"  style="padding: 4px 9px 3px 9px;"><i class="fas fa-eye"></i></a>
                                                </div>
                                         </div>
                                    </div>
                                </div>
                                <% k=k++; %>
                                <% } %>
                                
                             </div>
                             <% } %>
                          
                          </div>


                          <!-- reflet wallets -->
                          <div class="tab-pane fade" id="dashtab3" role="tabpanel" aria-labelledby="dash-tab">
                              <% if(refletArr.length>0){  %>
                            <div class="row">
                                <% var j=4356;  %>
                                <% for(let i=0;i<refletArr.length;i++){ %>
                                    
                                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                    <div class="white-box full-box wallet-box">
                                        <div class="row align-item-center">
                                           <div class="col-xl-6 col-lg-12 col-md-12">
                                           </div>
                                           
                                            <% if(refletArr[i].isLinked=='yes'){  %>
                                                <div class="col-xl-12 col-lg-12 col-md-12 text-right">
                                                 <label class="mb-0 balance-value ml-auto alert alert-warning" >Linked</label>
                                                </div>
                                                <% }else{ %>
                                                 <div class="col-xl-12 col-lg-12 col-md-12 text-right">
                                                     <label class="mb-0 balance-value2 ml-auto alert alert-warning2" >Not Linked</label>
                                                </div>
                                                 <% } %>
                                          
                                        </div>
                                        <div>
                                        <div class="row inner-box-id-code">
                                                <div class="col-md-4 p-0">
                                                    <div class="for-flex-align">
                                                        <img src="../assets/images/icons/home-assets/user.png">
                                                        <p>Wallet ID</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 dubble-dot-after p-0">
                                                    <p><%= refletArr[i].walletId %></p>
                                                </div>
                                            </div>
                                            <div class="private-key-copy-box mt-15">
                                                <div class="form-group">
                                                    <label>Public key</label>
                                                    <div class="input-group mb-3">
                                                        <input type="text" class="form-control" value="<%= refletArr[i].walletAddress %>" id="wallet_addr<%=j%>" readonly>
                                                        <div class="input-group-append">
                                                          <span class="tooltip">
                                                            <a class="btn-copy" href="javascript:void(0);"  onclick="myFunction1('<%=j %>')" onmouseout="outFunc('<%=j %>')"><img src="../assets/images/icons/createidentity-assets/copy.png">
                                                              <span class="tooltiptext" id="myTooltip<%=j%>">Copy to clipboard</span>
                                                          </a>
                                                          </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row inner-box-id-code">
                                                <div class="col-md-4 p-0">
                                                    <div class="for-flex-align">
                                                        <img src="../assets/images/icons/home-assets/user.png">
                                                        <p>MyReflet ID</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 dubble-dot-after p-0">
                                                    <p><% refletArr[i].refletid %></p>
                                                </div>
                                            </div>
                                            <div class="row inner-box-id-code">
                                                <div class="col-md-4 p-0">
                                                    <div class="for-flex-align">
                                                        <% if(refletArr[i].wallet_type=='BTC') {%>
                                                            <img src="../assets/images/icons/wallet/bitcoin.svg">
                                                            <% }else{ %>
                                                                <img src="../assets/images/icons/wallet/ethereum.svg">
                                                                <% } %>
                                                        <p>Balance</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 dubble-dot-after p-0">
                                                    <p><%= refletArr[i].balance%></p>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                                <a href="get_trans_history" onclick="location.href=this.href+'?wallet_type='+ `<%=encrypt(refletArr[i].wallet_type) %>`+'&wallet_id='+`<%=encrypt(refletArr[i].walletId) %>`;
                                                    return false" class="btn-common-new"  style="padding: 4px 9px 3px 9px;"><i class="fas fa-eye"></i></a>
                                                </div>
                                         </div>
                                    </div>
                                </div>
                                <% j=j++;  %>
                                <% } %>
                               
                             </div>

                             <% } %>
                          
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <%- include('../innerFooter')%>    
    <script type="text/javascript">
        function copy_address(i_val) {
          var copyText = document.getElementById("wallet_addr"+i_val);
          if($('#wallet_addr').val() !="")
          {
          copyText.select();
          document.execCommand("copy");
          alert("Wallet address is copied.");
          }  
        }  
    </script>
    
    
     <script>
    function myFunction1(i_val) {
      var copyText = document.getElementById("wallet_addr"+i_val);
      copyText.select();
      copyText.setSelectionRange(0, 99999);
      document.execCommand("copy");
      
      var tooltip = document.getElementById("myTooltip"+i_val);
      tooltip.innerHTML = "Copied";
        // tooltip.innerHTML = "Copied: " + copyText.value;
    
    }
    
    function outFunc(i_val) {
      var tooltip = document.getElementById("myTooltip"+i_val);
      tooltip.innerHTML = "Copy to clipboard";
    }
    </script>